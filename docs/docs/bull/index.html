<!doctype html>
<html lang="zh-cn" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.88.1" />
<meta name="robots" content="index, follow">


<link rel="shortcut icon" href="/nestjs-docs/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/nestjs-docs/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/nestjs-docs/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/nestjs-docs/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/nestjs-docs/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/nestjs-docs/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/nestjs-docs/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/nestjs-docs/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/nestjs-docs/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/nestjs-docs/favicons/android-192x192.png" sizes="192x192">

<title>bull | NestJS æ–‡æ¡£</title>
<meta name="description" content="æœ€å¿«ã€æœ€å¯é ã€åŸºäºredisçš„Nodeé˜Ÿåˆ—ã€‚ ä»”ç»†å†™çš„å²©çŸ³å›ºä½“çš„ç¨³å®šæ€§å’ŒåŸå­æ€§ã€‚">
<meta property="og:title" content="bull" />
<meta property="og:description" content="æœ€å¿«ã€æœ€å¯é ã€åŸºäºredisçš„Nodeé˜Ÿåˆ—ã€‚ ä»”ç»†å†™çš„å²©çŸ³å›ºä½“çš„ç¨³å®šæ€§å’ŒåŸå­æ€§ã€‚" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://wdk-docs.github.io/nestjs-docs/docs/bull/" /><meta property="article:section" content="docs" />

<meta property="article:modified_time" content="2022-03-25T00:40:53+08:00" /><meta property="og:site_name" content="NestJS æ–‡æ¡£" />

<meta itemprop="name" content="bull">
<meta itemprop="description" content="æœ€å¿«ã€æœ€å¯é ã€åŸºäºredisçš„Nodeé˜Ÿåˆ—ã€‚ ä»”ç»†å†™çš„å²©çŸ³å›ºä½“çš„ç¨³å®šæ€§å’ŒåŸå­æ€§ã€‚">
<meta itemprop="dateModified" content="2022-03-25T00:40:53+08:00" />
<meta itemprop="wordCount" content="1259">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="bull"/>
<meta name="twitter:description" content="æœ€å¿«ã€æœ€å¯é ã€åŸºäºredisçš„Nodeé˜Ÿåˆ—ã€‚ ä»”ç»†å†™çš„å²©çŸ³å›ºä½“çš„ç¨³å®šæ€§å’ŒåŸå­æ€§ã€‚"/>




<link rel="preload" href="/nestjs-docs/scss/main.min.90983698afafd407e6b72e83a2b749ff1726e8502277108f05bd66510938dec2.css" as="style">
<link href="/nestjs-docs/scss/main.min.90983698afafd407e6b72e83a2b749ff1726e8502277108f05bd66510938dec2.css" rel="stylesheet" integrity="">

<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-00000000-0', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  </head>
  <body class="td-page">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/nestjs-docs/">
		<span class="navbar-logo"><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 500 500" style="enable-background:new 0 0 500 500"><g><path style="fill:#fff" d="M116.8525 421.9722c-5.7041.0-10.3442-4.3127-10.3442-9.6129V88.183c0-5.3002 4.6401-9.6117 10.3442-9.6117H320.858c3.0347.0 9.3959.5498 11.7506 2.6302l.3545.3442 58.905 63.2912c2.3101 2.491 2.9202 8.4928 2.9202 11.3184v256.2039c0 5.3002-4.6407 9.6129-10.3436 9.6129H116.8525z"/><g><g><g><path style="fill:#767676" d="M384.4445 423.2066H116.852c-6.3839.0-11.5786-4.8658-11.5786-10.8474V88.1831c0-5.9804 5.1947-10.8461 11.5786-10.8461h204.0062c.377.0 9.2786.0329 12.568 2.9389l.3947.3833 58.9508 63.337c3.2135 3.4652 3.2514 11.7924 3.2514 12.1593v256.2036C396.0231 418.3408 390.8284 423.2066 384.4445 423.2066zM116.5079 411.9189c.0848.0278.1999.0531.3441.0531h267.5925c.1442.0.2581-.0253.3441-.0531V156.1556c-.0076-.9033-.3593-3.7347-.7034-5.0037l-57.6527-61.9416c-1.4651-.3176-4.4533-.6389-5.5742-.6389H116.852c-.143.0-.2594.024-.3441.0531V411.9189zm267.4533-261.149zM327.0321 89.371v.0013V89.371z"/></g></g></g><g><g><path style="fill:#5b7fc0" d="M189.0874 210.1754l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4473C177.5953 212.627 183.0601 210.1742 189.0874 210.1754zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 234.1722 197.0804 232.033z"/><path style="opacity:.3;fill:#fff" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/><g><defs><path id="SVGID_1_" d="M194.7376 237.6875c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 234.2399 196.1861 236.239 194.7376 237.6875z"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_2_);fill:#fff" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/><path style="opacity:.13;clip-path:url(#SVGID_2_);fill:#020202" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/></g><g><defs><path id="SVGID_3_" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/></defs><clipPath id="SVGID_4_"><use xlink:href="#SVGID_3_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_4_);fill:#5b7fc0" d="M172.6595 215.6045c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8475-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 209.1953 176.6171 211.647 172.6595 215.6045z"/></g></g><rect x="198.8952" y="225.1043" style="fill:#5b7fc0" width="122.6266" height="13.8671"/></g><g><path style="fill:#d95140" d="M189.0874 155.7611l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.0249 2.454-11.4897 6.4116-15.4473C177.5953 158.2128 183.0601 155.7599 189.0874 155.7611zm7.993 21.8577c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.2508 181.7667 197.0816 179.758 197.0804 177.6188z"/><path style="opacity:.3;fill:#fff" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/><g><defs><path id="SVGID_5_" d="M194.7376 183.2733c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 179.8256 196.1861 181.8248 194.7376 183.2733z"/></defs><clipPath id="SVGID_6_"><use xlink:href="#SVGID_5_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_6_);fill:#fff" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/><path style="opacity:.13;clip-path:url(#SVGID_6_);fill:#020202" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/></g><g><defs><path id="SVGID_7_" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/></defs><clipPath id="SVGID_8_"><use xlink:href="#SVGID_7_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_8_);fill:#d95140" d="M172.6595 161.1903c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 154.7811 176.6171 157.2327 172.6595 161.1903z"/></g><rect x="198.8952" y="170.69" style="fill:#d95140" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#56a55c" d="M189.5379 264.6147l.0012-.0012c7.7751.0012 15.0294 4.1862 18.932 10.9235 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032-5.8394.0-11.3281-2.2733-15.458-6.4032-4.13-4.13-6.4032-9.6186-6.4056-15.4628.0012-6.0249 2.454-11.4897 6.4116-15.4472C178.0458 267.0663 183.5105 264.6135 189.5379 264.6147zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6538 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.7013 290.6202 197.5321 288.6115 197.5309 286.4723z"/><path style="opacity:.3;fill:#fff" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/><g><defs><path id="SVGID_9_" d="M195.1881 292.1268c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9941 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.5344 288.6792 196.6366 290.6783 195.1881 292.1268z"/></defs><clipPath id="SVGID_10_"><use xlink:href="#SVGID_9_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_10_);fill:#fff" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/><path style="opacity:.13;clip-path:url(#SVGID_10_);fill:#020202" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/></g><g><defs><path id="SVGID_11_" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/></defs><clipPath id="SVGID_12_"><use xlink:href="#SVGID_11_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_12_);fill:#56a55c" d="M173.11 270.0439c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7325-11.1497-10.9151-18.926-10.9151C182.5311 263.6346 177.0676 266.0863 173.11 270.0439z"/></g></g><rect x="199.3456" y="279.5436" style="fill:#56a55c" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#f1bc42" d="M189.0874 318.7208l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3305-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4472C177.5953 321.1724 183.0601 318.7196 189.0874 318.7208zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 342.7176 197.0804 340.5784z"/><path style="opacity:.3;fill:#fff" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/><g><defs><path id="SVGID_13_" d="M194.7376 346.2329c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 342.7853 196.1861 344.7844 194.7376 346.2329z"/></defs><clipPath id="SVGID_14_"><use xlink:href="#SVGID_13_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_14_);fill:#fff" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/><path style="opacity:.13;clip-path:url(#SVGID_14_);fill:#020202" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/></g><g><defs><path id="SVGID_15_" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/></defs><clipPath id="SVGID_16_"><use xlink:href="#SVGID_15_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_16_);fill:#f1bc42" d="M172.6595 324.15c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8474-1.0151-7.6327-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 317.7407 176.6171 320.1924 172.6595 324.15z"/></g></g><rect x="198.8952" y="333.6497" style="fill:#f1bc42" width="122.6266" height="13.8671"/></g></g></svg></span><span class="text-uppercase font-weight-bold">NestJS æ–‡æ¡£</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link active" href="/nestjs-docs/docs/" ><span class="active">æ–‡æ¡£</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="/nestjs-docs/blog/" ><span>åšå®¢</span></a>
			</li>
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block"><input type="search" class="form-control td-search-input" placeholder="&#xf002; ç«™å†…æœç´¢â€¦" aria-label="ç«™å†…æœç´¢â€¦" autocomplete="off">
</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            
<div id="td-sidebar-menu" class="td-sidebar__inner">
  <form class="td-sidebar__search d-flex align-items-center">
    <input type="search" class="form-control td-search-input" placeholder="&#xf002; ç«™å†…æœç´¢â€¦" aria-label="ç«™å†…æœç´¢â€¦" autocomplete="off">

    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  <nav class="collapse td-sidebar-nav" id="td-section-nav">
    <ul class="td-sidebar-nav__section pr-md-3 ul-0">
      <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-nestjs-docsdocs-li">
  <a href="/nestjs-docs/docs/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id="m-nestjs-docsdocs"><span class="">æ–‡æ¡£</span></a>
  <ul class="ul-1">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-nestjs-docsdocsvalidator-li">
  <a href="/nestjs-docs/docs/validator/" title="validator" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-nestjs-docsdocsvalidator"><span class="">éªŒè¯å™¨</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocsvalidatorclass-validator-li">
  <a href="/nestjs-docs/docs/validator/class-validator/" title="class-validator" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocsvalidatorclass-validator"><span class="">ç±»éªŒè¯</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocsvalidatorclass-transformer-li">
  <a href="/nestjs-docs/docs/validator/class-transformer/" title="class-transformer" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocsvalidatorclass-transformer"><span class="">è½¬æ¢ç±»</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-nestjs-docsdocsmongodb-li">
  <a href="/nestjs-docs/docs/mongodb/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-nestjs-docsdocsmongodb"><span class="">mongodb</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocsmongodbintroduction-li">
  <a href="/nestjs-docs/docs/mongodb/introduction/" title="MongoDBæ¦‚è®º" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocsmongodbintroduction"><span class="">ä»‹ç»</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocsmongodbrelationships-li">
  <a href="/nestjs-docs/docs/mongodb/relationships/" title="å®ç°ä¸MongoDBçš„å…³ç³»" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocsmongodbrelationships"><span class="">å®ç°å…³ç³»</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocsmongodbvirtual-li">
  <a href="/nestjs-docs/docs/mongodb/virtual/" title="MongoDBå’ŒMongooseçš„è™šæ‹Ÿå±æ€§" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocsmongodbvirtual"><span class="">è™šæ‹Ÿå±æ€§</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocsmongodbtransactions-li">
  <a href="/nestjs-docs/docs/mongodb/transactions/" title="ä¸MongoDBå’ŒMongooseç®¡ç†äº‹åŠ¡" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocsmongodbtransactions"><span class="">ç®¡ç†äº‹åŠ¡</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocsmongodbpagination-li">
  <a href="/nestjs-docs/docs/mongodb/pagination/" title="ä½¿ç”¨MongoDBå’ŒMongooseå®ç°åˆ†é¡µ" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocsmongodbpagination"><span class="">å®ç°åˆ†é¡µ</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocsmongodbindexes-li">
  <a href="/nestjs-docs/docs/mongodb/indexes/" title="ä½¿ç”¨MongoDBå’ŒMongooseå®šä¹‰ç´¢å¼•" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocsmongodbindexes"><span class="">å®šä¹‰ç´¢å¼•</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocsmongodbupdating-li">
  <a href="/nestjs-docs/docs/mongodb/updating/" title="ç”¨PUTå’ŒPATCHæ›´æ–°MongoDBå’ŒMongoose" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocsmongodbupdating"><span class="">æ›´æ–°</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-nestjs-docsdocsfiles-li">
  <a href="/nestjs-docs/docs/files/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-nestjs-docsdocsfiles"><span class="">files</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocsfilesapi-nestjs-uploading-files-to-server-li">
  <a href="/nestjs-docs/docs/files/api-nestjs-uploading-files-to-server/" title="Uploading files to the server" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocsfilesapi-nestjs-uploading-files-to-server"><span class="">æ–‡ä»¶ä¸Šä¼ </span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocsawesome-li">
  <a href="/nestjs-docs/docs/awesome/" title="awesome" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocsawesome"><span class="">èµ„æºé›†åˆ</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id="m-nestjs-docsdocsbull-li">
  <a href="/nestjs-docs/docs/bull/" class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocsbull"><span class="td-sidebar-nav-active-item">bull</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-nestjs-docsdocshttp-li">
  <a href="/nestjs-docs/docs/http/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-nestjs-docsdocshttp"><span class="">http</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocshttpaxios-li">
  <a href="/nestjs-docs/docs/http/axios/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocshttpaxios"><span class="">axios</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocshttpnest-axios-interceptor-li">
  <a href="/nestjs-docs/docs/http/nest-axios-interceptor/" title="@narando/nest-axios-interceptor" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocshttpnest-axios-interceptor"><span class="">æ‹¦æˆªå™¨</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocshttpaxios-auth-refresh-li">
  <a href="/nestjs-docs/docs/http/axios-auth-refresh/" title="axios-auth-refresh" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocshttpaxios-auth-refresh"><span class="">è®¤è¯åˆ·æ–°</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocshttpnode-cache-manager-li">
  <a href="/nestjs-docs/docs/http/node-cache-manager/" title="`node-cache-manager` - çµæ´»çš„NodeJSç¼“å­˜æ¨¡å—" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocshttpnode-cache-manager"><span class="">ç¼“å­˜ç®¡ç†</span></a>
</li>
  </ul>
</li>
  </ul>
</li>
    </ul>
  </nav>
</div>

          </aside>
          <aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
            
<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">
<a href="https://github.com/wdk-docs/nestjs-docs/tree/master/content/zh-cn/docs/bull.md" class="td-page-meta--view" target="_blank" rel="noopener"><i class="fa fa-file-alt fa-fw"></i> [i18n] post_view_this</a>
  <a href="https://github.com/wdk-docs/nestjs-docs/edit/master/content/zh-cn/docs/bull.md" class="td-page-meta--edit" target="_blank" rel="noopener"><i class="fa fa-edit fa-fw"></i> ç¼–è¾‘æ­¤é¡µ</a>
  <a href="https://github.com/wdk-docs/nestjs-docs/new/master/content/zh-cn/docs/bull.md?filename=change-me.md&amp;value=---%0Atitle%3A&#43;%22Long&#43;Page&#43;Title%22%0AlinkTitle%3A&#43;%22Short&#43;Nav&#43;Title%22%0Aweight%3A&#43;100%0Adescription%3A&#43;%3E-%0A&#43;&#43;&#43;&#43;&#43;Page&#43;description&#43;for&#43;heading&#43;and&#43;indexes.%0A---%0A%0A%23%23&#43;Heading%0A%0AEdit&#43;this&#43;template&#43;to&#43;create&#43;your&#43;new&#43;page.%0A%0A%2A&#43;Give&#43;it&#43;a&#43;good&#43;name%2C&#43;ending&#43;in&#43;%60.md%60&#43;-&#43;e.g.&#43;%60getting-started.md%60%0A%2A&#43;Edit&#43;the&#43;%22front&#43;matter%22&#43;section&#43;at&#43;the&#43;top&#43;of&#43;the&#43;page&#43;%28weight&#43;controls&#43;how&#43;its&#43;ordered&#43;amongst&#43;other&#43;pages&#43;in&#43;the&#43;same&#43;directory%3B&#43;lowest&#43;number&#43;first%29.%0A%2A&#43;Add&#43;a&#43;good&#43;commit&#43;message&#43;at&#43;the&#43;bottom&#43;of&#43;the&#43;page&#43;%28%3C80&#43;characters%3B&#43;use&#43;the&#43;extended&#43;description&#43;field&#43;for&#43;more&#43;detail%29.%0A%2A&#43;Create&#43;a&#43;new&#43;branch&#43;so&#43;you&#43;can&#43;preview&#43;your&#43;new&#43;file&#43;and&#43;request&#43;a&#43;review&#43;via&#43;Pull&#43;Request.%0A" class="td-page-meta--child" target="_blank" rel="noopener"><i class="fa fa-edit fa-fw"></i> æ·»åŠ å­é¡µé¢</a>
  <a href="https://github.com/wdk-docs/nestjs-docs/issues/new?title=bull" class="td-page-meta--issue" target="_blank" rel="noopener"><i class="fab fa-github fa-fw"></i> æäº¤æ–‡æ¡£é—®é¢˜</a>
  <a href="https://github.com/wdk-docs/nestjs-docs/issues/new" class="td-page-meta--project-issue" target="_blank" rel="noopener"><i class="fas fa-tasks fa-fw"></i> æäº¤é¡¹ç›®é—®é¢˜</a>
  <a id="print" href="https://wdk-docs.github.io/nestjs-docs/docs/_print/"><i class="fa fa-print fa-fw"></i> æ•´èŠ‚æ‰“å°</a>

</div>

            


<div class="td-toc"><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#å®˜æ–¹çš„å‰ç«¯">å®˜æ–¹çš„å‰ç«¯</a></li>
        <li><a href="#bull-ç‰¹æ€§">Bull ç‰¹æ€§</a></li>
        <li><a href="#uis">UIs</a></li>
        <li><a href="#ç›‘æµ‹å’ŒæŠ¥è­¦">ç›‘æµ‹å’ŒæŠ¥è­¦</a></li>
        <li><a href="#ç‰¹å¾æ¯”è¾ƒ">ç‰¹å¾æ¯”è¾ƒ</a></li>
        <li><a href="#å®‰è£…">å®‰è£…</a></li>
        <li><a href="#typescript-å®šä¹‰">Typescript å®šä¹‰</a></li>
        <li><a href="#è´¡çŒ®">è´¡çŒ®</a></li>
        <li><a href="#å¿«é€ŸæŒ‡å—">å¿«é€ŸæŒ‡å—</a></li>
        <li><a href="#æ–‡æ¡£">æ–‡æ¡£</a></li>
        <li><a href="#é‡è¦çš„ç¬”è®°">é‡è¦çš„ç¬”è®°</a></li>
        <li><a href="#æ‰€ä½¿ç”¨çš„">æ‰€ä½¿ç”¨çš„</a></li>
        <li><a href="#bullmq">BullMQ</a></li>
        <li><a href="#-èµåŠ©å•†-">ğŸš€ èµåŠ©å•† ğŸš€</a></li>
      </ul>
    </li>
  </ul>
</nav></div>



            

	
		
			
		
		



  
  

	
		
			
		
		



  
  

	

          </aside>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="td-breadcrumbs">
  <ol class="breadcrumb spb-1">
  <li class="breadcrumb-item">
    <a href="https://wdk-docs.github.io/nestjs-docs/docs/">æ–‡æ¡£</a>
  </li>
  <li class="breadcrumb-item active" aria-current="page">
    <a href="https://wdk-docs.github.io/nestjs-docs/docs/bull/">bull</a>
  </li>
  </ol>
</nav>
            
<div class="td-content">
	<h1>bull</h1>
	<div class="lead">æœ€å¿«ã€æœ€å¯é ã€åŸºäºredisçš„Nodeé˜Ÿåˆ—ã€‚ ä»”ç»†å†™çš„å²©çŸ³å›ºä½“çš„ç¨³å®šæ€§å’ŒåŸå­æ€§ã€‚</div>
	<header class="article-meta">
		
		
			
				


			
				


			
		
		
	</header>    
	<blockquote>
<p><a href="https://github.com/OptimalBits/bull">https://github.com/OptimalBits/bull</a></p>
</blockquote>
<p>è¯·åœ¨<a href="http://twitter.com/manast">ğŸ“»Twitter</a>ä¸Šå…³æ³¨æˆ‘ï¼Œäº†è§£é‡è¦çš„æ–°é—»å’Œæ›´æ–°ã€‚
ä½ å¯ä»¥åœ¨è¿™ä¸ªåšå®¢ä¸­æ‰¾åˆ°æ•™ç¨‹å’Œæ–°é—»: <a href="https://blog.taskforce.sh/">ğŸ›  æ•™ç¨‹</a></p>
<h3 id="å®˜æ–¹çš„å‰ç«¯">å®˜æ–¹çš„å‰ç«¯</h3>
<p><a href="https://taskforce.sh"><img src="/assets/images/logo_square.png" width="100" alt="Taskforce.sh, Inc" style="padding: 100px"/></a></p>
<p>ç”¨ä¸“ä¸šå‰ç«¯å¢å‹ä½ çš„é˜Ÿåˆ—:</p>
<ul>
<li>è·å¾—æ‰€æœ‰é˜Ÿåˆ—çš„å®Œæ•´æ¦‚è§ˆã€‚</li>
<li>æ£€æŸ¥ä½œä¸šã€æœç´¢ã€é‡è¯•æˆ–æå‡è¢«å»¶è¿Ÿçš„ä½œä¸šã€‚</li>
<li>æŒ‡æ ‡å’Œç»Ÿè®¡æ•°æ®ã€‚</li>
<li>è¿˜æœ‰æ›´å¤šçš„åŠŸèƒ½ã€‚</li>
</ul>
<p>ç™»å½•<a href="https://taskforce.sh">Taskforce.sh</a></p>
<hr>
<h3 id="bull-ç‰¹æ€§">Bull ç‰¹æ€§</h3>
<ul>
<li><input checked="" disabled="" type="checkbox"> æœ€å°çš„ CPU ä½¿ç”¨ç‡ï¼Œç”±äºæ— è½®è¯¢è®¾è®¡ã€‚</li>
<li><input checked="" disabled="" type="checkbox"> åŸºäº Redis çš„ç¨³å¥è®¾è®¡ã€‚</li>
<li><input checked="" disabled="" type="checkbox"> å»¶è¿Ÿçš„å·¥ä½œã€‚</li>
<li><input checked="" disabled="" type="checkbox"> æ ¹æ® cron è§„èŒƒå®‰æ’å’Œé‡å¤ä½œä¸šã€‚</li>
<li><input checked="" disabled="" type="checkbox"> å¯¹å·¥ä½œçš„ç‡é™åˆ¶ã€‚</li>
<li><input checked="" disabled="" type="checkbox"> é‡è¯•ã€‚</li>
<li><input checked="" disabled="" type="checkbox"> ä¼˜å…ˆçº§ã€‚</li>
<li><input checked="" disabled="" type="checkbox"> å¹¶å‘æ€§ã€‚</li>
<li><input checked="" disabled="" type="checkbox"> æš‚åœ/æ¢å¤-å…¨å±€æˆ–æœ¬åœ°ã€‚</li>
<li><input checked="" disabled="" type="checkbox"> æ¯ä¸ªé˜Ÿåˆ—æœ‰å¤šä¸ªä½œä¸šç±»å‹ã€‚</li>
<li><input checked="" disabled="" type="checkbox"> çº¿ç¨‹(æ²™ç›’)å¤„ç†å‡½æ•°ã€‚</li>
<li><input checked="" disabled="" type="checkbox"> ä»è¿›ç¨‹å´©æºƒä¸­è‡ªåŠ¨æ¢å¤ã€‚</li>
</ul>
<p>æ¥ä¸‹æ¥æ˜¯è·¯çº¿å›¾â€¦</p>
<ul>
<li><input disabled="" type="checkbox"> ä½œä¸šå®Œæˆç¡®è®¤(åŒæ—¶å¯ä»¥ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—<a href="https://github.com/OptimalBits/bull/blob/develop/PATTERNS.md#returning-job-completions">pattern</a>)ã€‚</li>
<li><input disabled="" type="checkbox"> çˆ¶å­çš„å·¥ä½œå…³ç³»ã€‚</li>
</ul>
<hr>
<h3 id="uis">UIs</h3>
<p>ä½ å¯ä»¥ä½¿ç”¨ä¸€äº›ç¬¬ä¸‰æ–¹ ui æ¥è¿›è¡Œç›‘æ§:</p>
<p><strong>BullMQ</strong></p>
<ul>
<li><a href="https://taskforce.sh">Taskforce</a></li>
</ul>
<p><strong>Bull v3</strong></p>
<ul>
<li><a href="https://taskforce.sh">Taskforce</a></li>
<li><a href="https://github.com/vcapretz/bull-board">bull-board</a></li>
<li><a href="https://github.com/darky/bull-repl">bull-repl</a></li>
<li><a href="https://github.com/s-r-x/bull-monitor">bull-monitor</a></li>
<li><a href="https://github.com/AbhilashJN/monitoro">Monitoro</a></li>
</ul>
<p><strong>Bull &lt;= v2</strong></p>
<ul>
<li><a href="https://github.com/ShaneK/Matador">Matador</a></li>
<li><a href="https://github.com/kfatehi/react-bull">react-bull</a></li>
<li><a href="https://github.com/Epharmix/Toureiro">Toureiro</a></li>
</ul>
<hr>
<h3 id="ç›‘æµ‹å’ŒæŠ¥è­¦">ç›‘æµ‹å’ŒæŠ¥è­¦</h3>
<ul>
<li>With Prometheus <a href="https://github.com/UpHabit/bull_exporter">Bull Queue Exporter</a></li>
</ul>
<hr>
<h3 id="ç‰¹å¾æ¯”è¾ƒ">ç‰¹å¾æ¯”è¾ƒ</h3>
<p>Since there are a few job queue solutions, here is a table comparing them:</p>
<table>
<thead>
<tr>
<th style="text-align:left">Feature</th>
<th style="text-align:center">Bullmq-Pro</th>
<th style="text-align:center">Bullmq</th>
<th style="text-align:center">Bull</th>
<th style="text-align:center">Kue</th>
<th>Bee</th>
<th>Agenda</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Backend</td>
<td style="text-align:center">redis</td>
<td style="text-align:center">redis</td>
<td style="text-align:center">redis</td>
<td style="text-align:center">redis</td>
<td>redis</td>
<td>mongo</td>
</tr>
<tr>
<td style="text-align:left">Observables</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">Group Rate Limit</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">Group Support</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">Parent/Child Dependencies</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">Priorities</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center">âœ“</td>
<td></td>
<td>âœ“</td>
</tr>
<tr>
<td style="text-align:left">Concurrency</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center">âœ“</td>
<td>âœ“</td>
<td>âœ“</td>
</tr>
<tr>
<td style="text-align:left">Delayed jobs</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center">âœ“</td>
<td></td>
<td>âœ“</td>
</tr>
<tr>
<td style="text-align:left">Global events</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center">âœ“</td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">Rate Limiter</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">Pause/Resume</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center">âœ“</td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">Sandboxed worker</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center"></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">Repeatable jobs</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center"></td>
<td></td>
<td>âœ“</td>
</tr>
<tr>
<td style="text-align:left">Atomic ops</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center"></td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">Persistence</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center">âœ“</td>
<td>âœ“</td>
<td>âœ“</td>
</tr>
<tr>
<td style="text-align:left">UI</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center">âœ“</td>
<td style="text-align:center">âœ“</td>
<td></td>
<td>âœ“</td>
</tr>
<tr>
<td style="text-align:left">Optimized for</td>
<td style="text-align:center">Jobs / Messages</td>
<td style="text-align:center">Jobs / Messages</td>
<td style="text-align:center">Jobs / Messages</td>
<td style="text-align:center">Jobs</td>
<td>Messages</td>
<td>Jobs</td>
</tr>
</tbody>
</table>
<h3 id="å®‰è£…">å®‰è£…</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">npm install bull --save
</code></pre></div><p>or</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">yarn add bull
</code></pre></div><p><em><strong>Requirements:</strong> Bull requires a Redis version greater than or equal to <code>2.8.18</code>.</em></p>
<h3 id="typescript-å®šä¹‰">Typescript å®šä¹‰</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">npm install @types/bull --save-dev
</code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">yarn add --dev @types/bull
</code></pre></div><p>Definitions are currently maintained in the <a href="https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/bull">DefinitelyTyped</a> repo.</p>
<h3 id="è´¡çŒ®">è´¡çŒ®</h3>
<p>æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰ç±»å‹çš„è´¡çŒ®ï¼Œæ— è®ºæ˜¯ä»£ç ä¿®å¤ã€æ–°ç‰¹æ€§è¿˜æ˜¯æ–‡æ¡£æ”¹è¿›ã€‚
ä»£ç æ ¼å¼ç”±<a href="https://prettier.io/">prettier</a>å¼ºåˆ¶æ‰§è¡Œã€‚
å¯¹äºæäº¤ï¼Œè¯·éµå¾ªå¸¸è§„<a href="https://www.conventionalcommits.org/en/v1.0.0-beta.2/">commits convention</a>ã€‚
æ‰€æœ‰ä»£ç éƒ½å¿…é¡»é€šè¿‡ lint è§„åˆ™å’Œæµ‹è¯•å¥—ä»¶ï¼Œç„¶åæ‰èƒ½åˆå¹¶åˆ° development ä¸­ã€‚</p>
<hr>
<h3 id="å¿«é€ŸæŒ‡å—">å¿«é€ŸæŒ‡å—</h3>
<h4 id="åŸºæœ¬ç”¨æ³•">åŸºæœ¬ç”¨æ³•</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">Queue</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">require</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;bull&#34;</span><span style="color:#000;font-weight:bold">);</span>

<span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">videoQueue</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Queue</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;video transcoding&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;redis://127.0.0.1:6379&#34;</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">audioQueue</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Queue</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;audio transcoding&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">{</span>
  <span style="color:#000">redis</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#000">port</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">6379</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">host</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;127.0.0.1&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">password</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;foobared&#34;</span> <span style="color:#000;font-weight:bold">},</span>
<span style="color:#000;font-weight:bold">});</span> <span style="color:#8f5902;font-style:italic">// Specify Redis connection using object
</span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">imageQueue</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Queue</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;image transcoding&#34;</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">pdfQueue</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Queue</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;pdf transcoding&#34;</span><span style="color:#000;font-weight:bold">);</span>

<span style="color:#000">videoQueue</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">process</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">job</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">done</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
  <span style="color:#8f5902;font-style:italic">// job.data contains the custom data passed when the job was created
</span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#8f5902;font-style:italic">// job.id contains id of this job.
</span><span style="color:#8f5902;font-style:italic"></span>
  <span style="color:#8f5902;font-style:italic">// transcode video asynchronously and report progress
</span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">job</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">progress</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">42</span><span style="color:#000;font-weight:bold">);</span>

  <span style="color:#8f5902;font-style:italic">// call done when finished
</span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">done</span><span style="color:#000;font-weight:bold">();</span>

  <span style="color:#8f5902;font-style:italic">// or give a error if error
</span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">done</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#204a87">Error</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;error transcoding&#34;</span><span style="color:#000;font-weight:bold">));</span>

  <span style="color:#8f5902;font-style:italic">// or pass it a result
</span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">done</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">null</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#000">framerate</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">29.5</span> <span style="color:#8f5902;font-style:italic">/* etc... */</span> <span style="color:#000;font-weight:bold">});</span>

  <span style="color:#8f5902;font-style:italic">// If the job throws an unhandled exception it is also handled correctly
</span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#204a87;font-weight:bold">throw</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#204a87">Error</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;some unexpected error&#34;</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#000;font-weight:bold">});</span>

<span style="color:#000">audioQueue</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">process</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">job</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">done</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
  <span style="color:#8f5902;font-style:italic">// transcode audio asynchronously and report progress
</span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">job</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">progress</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">42</span><span style="color:#000;font-weight:bold">);</span>

  <span style="color:#8f5902;font-style:italic">// call done when finished
</span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">done</span><span style="color:#000;font-weight:bold">();</span>

  <span style="color:#8f5902;font-style:italic">// or give a error if error
</span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">done</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#204a87">Error</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;error transcoding&#34;</span><span style="color:#000;font-weight:bold">));</span>

  <span style="color:#8f5902;font-style:italic">// or pass it a result
</span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">done</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">null</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#000">samplerate</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">48000</span> <span style="color:#8f5902;font-style:italic">/* etc... */</span> <span style="color:#000;font-weight:bold">});</span>

  <span style="color:#8f5902;font-style:italic">// If the job throws an unhandled exception it is also handled correctly
</span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#204a87;font-weight:bold">throw</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#204a87">Error</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;some unexpected error&#34;</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#000;font-weight:bold">});</span>

<span style="color:#000">imageQueue</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">process</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">job</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">done</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
  <span style="color:#8f5902;font-style:italic">// transcode image asynchronously and report progress
</span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">job</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">progress</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">42</span><span style="color:#000;font-weight:bold">);</span>

  <span style="color:#8f5902;font-style:italic">// call done when finished
</span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">done</span><span style="color:#000;font-weight:bold">();</span>

  <span style="color:#8f5902;font-style:italic">// or give a error if error
</span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">done</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#204a87">Error</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;error transcoding&#34;</span><span style="color:#000;font-weight:bold">));</span>

  <span style="color:#8f5902;font-style:italic">// or pass it a result
</span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">done</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">null</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#000">width</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">1280</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">height</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">720</span> <span style="color:#8f5902;font-style:italic">/* etc... */</span> <span style="color:#000;font-weight:bold">});</span>

  <span style="color:#8f5902;font-style:italic">// If the job throws an unhandled exception it is also handled correctly
</span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#204a87;font-weight:bold">throw</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#204a87">Error</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;some unexpected error&#34;</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#000;font-weight:bold">});</span>

<span style="color:#000">pdfQueue</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">process</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">job</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
  <span style="color:#8f5902;font-style:italic">// Processors can also return promises instead of using the done callback
</span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">pdfAsyncProcessor</span><span style="color:#000;font-weight:bold">();</span>
<span style="color:#000;font-weight:bold">});</span>

<span style="color:#000">videoQueue</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">add</span><span style="color:#000;font-weight:bold">({</span> <span style="color:#000">video</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;http://example.com/video1.mov&#34;</span> <span style="color:#000;font-weight:bold">});</span>
<span style="color:#000">audioQueue</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">add</span><span style="color:#000;font-weight:bold">({</span> <span style="color:#000">audio</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;http://example.com/audio1.mp3&#34;</span> <span style="color:#000;font-weight:bold">});</span>
<span style="color:#000">imageQueue</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">add</span><span style="color:#000;font-weight:bold">({</span> <span style="color:#000">image</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;http://example.com/image1.tiff&#34;</span> <span style="color:#000;font-weight:bold">});</span>
</code></pre></div><h4 id="ä½¿ç”¨æ‰¿è¯º">ä½¿ç”¨æ‰¿è¯º</h4>
<p>æˆ–è€…ï¼Œä½ å¯ä»¥ä½¿ç”¨ return promises æ¥ä»£æ›¿<code>done</code>å›è°ƒ:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#000">videoQueue</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">process</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">job</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
  <span style="color:#8f5902;font-style:italic">// ä¸è¦å¿˜è®°åˆ é™¤doneå›è°ƒ!
</span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#8f5902;font-style:italic">// ç®€å•åœ°å›æŠ¥ä¸€ä¸ªæ‰¿è¯º
</span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">fetchVideo</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">job</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">data</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">url</span><span style="color:#000;font-weight:bold">).</span><span style="color:#000">then</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">transcodeVideo</span><span style="color:#000;font-weight:bold">);</span>

  <span style="color:#8f5902;font-style:italic">// å¤„ç†æ‰¿è¯ºæ‹’ç»
</span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#204a87">Promise</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">reject</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#204a87">Error</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;error transcoding&#34;</span><span style="color:#000;font-weight:bold">));</span>

  <span style="color:#8f5902;font-style:italic">// å°†æ‰¿è¯ºè§£æçš„å€¼ä¼ é€’ç»™â€œcompletedâ€äº‹ä»¶
</span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#204a87">Promise</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">resolve</span><span style="color:#000;font-weight:bold">({</span> <span style="color:#000">framerate</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">29.5</span> <span style="color:#8f5902;font-style:italic">/* etc... */</span> <span style="color:#000;font-weight:bold">});</span>

  <span style="color:#8f5902;font-style:italic">// å¦‚æœä½œä¸šæŠ›å‡ºä¸€ä¸ªæœªå¤„ç†çš„å¼‚å¸¸ï¼Œå®ƒä¹Ÿä¼šå¾—åˆ°æ­£ç¡®çš„å¤„ç†
</span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#204a87;font-weight:bold">throw</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#204a87">Error</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;some unexpected error&#34;</span><span style="color:#000;font-weight:bold">);</span>
  <span style="color:#8f5902;font-style:italic">// ä¸€æ ·
</span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#204a87">Promise</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">reject</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#204a87">Error</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;some unexpected error&#34;</span><span style="color:#000;font-weight:bold">));</span>
<span style="color:#000;font-weight:bold">});</span>
</code></pre></div><h4 id="ç‹¬ç«‹çš„è¿›ç¨‹">ç‹¬ç«‹çš„è¿›ç¨‹</h4>
<p>è¿›ç¨‹å‡½æ•°ä¹Ÿå¯ä»¥åœ¨å•ç‹¬çš„è¿›ç¨‹ä¸­è¿è¡Œã€‚è¿™æœ‰å‡ ä¸ªå¥½å¤„:</p>
<ul>
<li>è¿™ä¸ªè¿›ç¨‹æ˜¯æ²™ç®±åŒ–çš„ï¼Œæ‰€ä»¥å³ä½¿å®ƒå´©æºƒäº†ï¼Œä¹Ÿä¸ä¼šå½±å“å·¥ä½œè¿›ç¨‹ã€‚</li>
<li>æ‚¨å¯ä»¥åœ¨ä¸å½±å“é˜Ÿåˆ—çš„æƒ…å†µä¸‹è¿è¡Œé˜»å¡ä»£ç (ä½œä¸šä¸ä¼šåœæ­¢)ã€‚</li>
<li>æ›´å¥½åœ°åˆ©ç”¨å¤šæ ¸ cpuã€‚</li>
<li>å‡å°‘ä¸ redis çš„è¿æ¥ã€‚</li>
</ul>
<p>ä¸ºäº†ä½¿ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œåªéœ€åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„å¤„ç†å™¨æ–‡ä»¶:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#8f5902;font-style:italic">// processor.js
</span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">module</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">exports</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">job</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
  <span style="color:#8f5902;font-style:italic">// åšä¸€äº›ç¹é‡çš„å·¥ä½œ
</span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#204a87">Promise</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">resolve</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">result</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#000;font-weight:bold">};</span>
</code></pre></div><p>ç„¶ååƒè¿™æ ·å®šä¹‰å¤„ç†å™¨:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#8f5902;font-style:italic">// å•æµç¨‹:
</span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">queue</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">process</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;/path/to/my/processor.js&#34;</span><span style="color:#000;font-weight:bold">);</span>

<span style="color:#8f5902;font-style:italic">// ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å¹¶å‘:
</span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">queue</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">process</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">5</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;/path/to/my/processor.js&#34;</span><span style="color:#000;font-weight:bold">);</span>

<span style="color:#8f5902;font-style:italic">// å’ŒæŒ‡å®šçš„å¤„ç†å™¨:
</span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">queue</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">process</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;my processor&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">5</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;/path/to/my/processor.js&#34;</span><span style="color:#000;font-weight:bold">);</span>
</code></pre></div><h4 id="é‡å¤çš„å·¥ä½œ">é‡å¤çš„å·¥ä½œ</h4>
<p>A job can be added to a queue and processed repeatedly according to a cron specification:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#000">paymentsQueue</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">process</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">job</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
  <span style="color:#8f5902;font-style:italic">// Check payments
</span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">});</span>

<span style="color:#8f5902;font-style:italic">// Repeat payment job once every day at 3:15 (am)
</span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">paymentsQueue</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">add</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">paymentsData</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#000">repeat</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#000">cron</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;15 3 * * *&#34;</span> <span style="color:#000;font-weight:bold">}</span> <span style="color:#000;font-weight:bold">});</span>
</code></pre></div><p>As a tip, check your expressions here to verify they are correct:
<a href="https://crontab.cronhub.io">cron expression generator</a></p>
<h4 id="æš‚åœæ¢å¤">æš‚åœ/æ¢å¤</h4>
<p>A queue can be paused and resumed globally (pass <code>true</code> to pause processing for
just this worker):</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#000">queue</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">pause</span><span style="color:#000;font-weight:bold">().</span><span style="color:#000">then</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
  <span style="color:#8f5902;font-style:italic">// queue is paused now
</span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">});</span>

<span style="color:#000">queue</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">resume</span><span style="color:#000;font-weight:bold">().</span><span style="color:#000">then</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
  <span style="color:#8f5902;font-style:italic">// queue is resumed now
</span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">});</span>
</code></pre></div><h4 id="äº‹ä»¶">äº‹ä»¶</h4>
<p>é˜Ÿåˆ—ä¼šå‘å‡ºä¸€äº›æœ‰ç”¨çš„äº‹ä»¶ï¼Œä¾‹å¦‚â€¦</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#000;font-weight:bold">.</span><span style="color:#000">on</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;completed&#39;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">job</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">result</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
  <span style="color:#8f5902;font-style:italic">// Job completed with output result!
</span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">})</span>
</code></pre></div><p>For more information on events, including the full list of events that are fired, check out the <a href="./REFERENCE.md#events">Events reference</a></p>
<h4 id="é˜Ÿåˆ—æ€§èƒ½">é˜Ÿåˆ—æ€§èƒ½</h4>
<p>é˜Ÿåˆ—å¾ˆä¾¿å®œï¼Œæ‰€ä»¥å¦‚æœä½ éœ€è¦å¾ˆå¤šé˜Ÿåˆ—ï¼Œåªéœ€åˆ›å»ºæ–°çš„ä¸åŒåç§°çš„é˜Ÿåˆ—:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">userJohn</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Queue</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;john&#39;</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">userLisa</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Queue</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;lisa&#39;</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#000;font-weight:bold">.</span>
<span style="color:#000;font-weight:bold">.</span>
<span style="color:#000;font-weight:bold">.</span>
</code></pre></div><p>However every queue instance will require new redis connections, check how to <a href="https://github.com/OptimalBits/bull/blob/master/PATTERNS.md#reusing-redis-connections">reuse connections</a> or you can also use <a href="https://github.com/OptimalBits/bull/blob/master/REFERENCE.md#queueprocess">named processors</a> to achieve a similar result.</p>
<h4 id="é›†ç¾¤çš„æ”¯æŒ">é›†ç¾¤çš„æ”¯æŒ</h4>
<p>NOTE: From version 3.2.0 and above it is recommended to use threaded processors instead.</p>
<p>Queues are robust and can be run in parallel in several threads or processes
without any risk of hazards or queue corruption. Check this simple example
using cluster to parallelize jobs across processes:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">Queue</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">require</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;bull&#34;</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">cluster</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">require</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;cluster&#34;</span><span style="color:#000;font-weight:bold">);</span>

<span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">numWorkers</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">8</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">queue</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Queue</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;test concurrent queue&#34;</span><span style="color:#000;font-weight:bold">);</span>

<span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">cluster</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">isMaster</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
  <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">let</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">numWorkers</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#000">cluster</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">fork</span><span style="color:#000;font-weight:bold">();</span>
  <span style="color:#000;font-weight:bold">}</span>

  <span style="color:#000">cluster</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">on</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;online&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">worker</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#8f5902;font-style:italic">// Let&#39;s create a few jobs for the queue workers
</span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">let</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#0000cf;font-weight:bold">500</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
      <span style="color:#000">queue</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">add</span><span style="color:#000;font-weight:bold">({</span> <span style="color:#000">foo</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;bar&#34;</span> <span style="color:#000;font-weight:bold">});</span>
    <span style="color:#000;font-weight:bold">}</span>
  <span style="color:#000;font-weight:bold">});</span>

  <span style="color:#000">cluster</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">on</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;exit&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">worker</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">code</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">signal</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#000">console</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;worker &#34;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#000">worker</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">process</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">pid</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#34; died&#34;</span><span style="color:#000;font-weight:bold">);</span>
  <span style="color:#000;font-weight:bold">});</span>
<span style="color:#000;font-weight:bold">}</span> <span style="color:#204a87;font-weight:bold">else</span> <span style="color:#000;font-weight:bold">{</span>
  <span style="color:#000">queue</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">process</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">job</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">jobDone</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#000">console</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Job done by worker&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">cluster</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">worker</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">id</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">job</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">id</span><span style="color:#000;font-weight:bold">);</span>
    <span style="color:#000">jobDone</span><span style="color:#000;font-weight:bold">();</span>
  <span style="color:#000;font-weight:bold">});</span>
<span style="color:#000;font-weight:bold">}</span>
</code></pre></div><hr>
<h3 id="æ–‡æ¡£">æ–‡æ¡£</h3>
<p>è¦è·å–å®Œæ•´çš„æ–‡æ¡£ï¼Œè¯·æŸ¥çœ‹å‚è€ƒå’Œå¸¸ç”¨æ¨¡å¼:</p>
<ul>
<li><a href="https://optimalbits.github.io/bull/">Guide</a> â€” Your starting point for developing with Bull.</li>
<li><a href="./REFERENCE.md">Reference</a> â€” Reference document with all objects and methods available.</li>
<li><a href="./PATTERNS.md">Patterns</a> â€” a set of examples for common patterns.</li>
<li><a href="./LICENSE.md">License</a> â€” the Bull licenseâ€”it&rsquo;s MIT.</li>
</ul>
<p>å¦‚æœä½ çœ‹åˆ°ä»»ä½•å¯ä»¥ä½¿ç”¨æ›´å¤šæ–‡æ¡£çš„ä¸œè¥¿ï¼Œè¯·æäº¤ä¸€ä¸ª pull request!</p>
<hr>
<h3 id="é‡è¦çš„ç¬”è®°">é‡è¦çš„ç¬”è®°</h3>
<p>The queue aims for an &ldquo;at least once&rdquo; working strategy. This means that in some situations, a job
could be processed more than once. This mostly happens when a worker fails to keep a lock
for a given job during the total duration of the processing.</p>
<p>When a worker is processing a job it will keep the job &ldquo;locked&rdquo; so other workers can&rsquo;t process it.</p>
<p>It&rsquo;s important to understand how locking works to prevent your jobs from losing their lock - becoming <em>stalled</em> -
and being restarted as a result. Locking is implemented internally by creating a lock for <code>lockDuration</code> on interval
<code>lockRenewTime</code> (which is usually half <code>lockDuration</code>). If <code>lockDuration</code> elapses before the lock can be renewed,
the job will be considered stalled and is automatically restarted; it will be <strong>double processed</strong>. This can happen when:</p>
<ol>
<li>The Node process running your job processor unexpectedly terminates.</li>
<li>Your job processor was too CPU-intensive and stalled the Node event loop, and as a result, Bull couldn&rsquo;t renew the job lock (see <a href="https://github.com/OptimalBits/bull/issues/488">#488</a> for how we might better detect this). You can fix this by breaking your job processor into smaller parts so that no single part can block the Node event loop. Alternatively, you can pass a larger value for the <code>lockDuration</code> setting (with the tradeoff being that it will take longer to recognize a real stalled job).</li>
</ol>
<p>As such, you should always listen for the <code>stalled</code> event and log this to your error monitoring system, as this means your jobs are likely getting double-processed.</p>
<p>As a safeguard so problematic jobs won&rsquo;t get restarted indefinitely (e.g. if the job processor always crashes its Node process), jobs will be recovered from a stalled state a maximum of <code>maxStalledCount</code> times (default: <code>1</code>).</p>
<h3 id="æ‰€ä½¿ç”¨çš„">æ‰€ä½¿ç”¨çš„</h3>
<p>Bull åœ¨å¤§å¤§å°å°çš„ç»„ç»‡ä¸­éƒ½å¾ˆå—æ¬¢è¿ï¼Œæ¯”å¦‚ä»¥ä¸‹è¿™äº›ç»„ç»‡:</p>
<table cellspacing="0" cellpadding="0">
  <tr>
    <td valign="center">
      <a href="https://github.com/atlassian/github-for-jira">
        <img
          src="https://876297641-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F-LUuDmt_xXMfG66Rn1GA%2Fuploads%2FevsJCF6F1tx1ScZwDQOd%2FAtlassian-horizontal-blue-rgb.webp?alt=media&token=2fcd0528-e8bb-4bdd-af35-9d20e313d1a8"
          width="150"
          alt="Atlassian"
      /></a>
    </td>
    <td valign="center">
      <a href="https://github.com/Autodesk">
        <img
          src="https://876297641-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F-LUuDmt_xXMfG66Rn1GA%2Fuploads%2FvpTe02RdOhUJBA8TdHEE%2Fautodesk-logo-white.png?alt=media&token=326961b4-ea4f-4ded-89a4-e05692eec8ee"
          width="150"
          alt="Autodesk"
      /></a>
    </td>
    <td valign="center">
      <a href="https://github.com/common-voice/common-voice">
        <img
          src="https://876297641-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F-LUuDmt_xXMfG66Rn1GA%2Fuploads%2F4zPSrubNJKViAzUIftIy%2Fmozilla-logo-bw-rgb.png?alt=media&token=9f93aae2-833f-4cc4-8df9-b7fea0ad5cb5"
          width="150"
          alt="Mozilla"
      /></a>
    </td>
    <td valign="center">
      <a href="https://github.com/nestjs/bull">
        <img
          src="https://876297641-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F-LUuDmt_xXMfG66Rn1GA%2Fuploads%2FfAcGye182utFUtPKdLqJ%2FScreenshot%202022-02-15%20at%2011.32.39.png?alt=media&token=29feb550-f0bc-467d-a290-f700701d7d15"
          width="150"
          alt="Nest"
      /></a>
    </td>
    <td valign="center">
      <a href="https://github.com/salesforce/refocus">
        <img
          src="https://876297641-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F-LUuDmt_xXMfG66Rn1GA%2Fuploads%2FZNnYNuL5qJ6ZoBh7JJEW%2Fsalesforce-logo.png?alt=media&token=ddcae63b-08c0-4dd4-8496-3b29a9bf977d"
          width="100"
          alt="Salesforce"
      /></a>
    </td>
  </tr>
</table>
<hr>
<h3 id="bullmq">BullMQ</h3>
<p>å¦‚æœä½ æƒ³å¼€å§‹ä½¿ç”¨å®Œå…¨ç”¨ Typescript ç¼–å†™çš„ä¸‹ä¸€ä¸ªä¸»è¦ç‰ˆæœ¬çš„ Bullï¼Œæ¬¢è¿ä½¿ç”¨æ–°çš„ repo<a href="https://github.com/taskforcesh/bullmq">è¿™é‡Œ</a>.
å¦åˆ™ï¼Œæˆ‘ä»¬éå¸¸æ¬¢è¿ä½ ä»ç„¶ä½¿ç”¨ Bullï¼Œè¿™æ˜¯ä¸€ä¸ªå®‰å…¨çš„ã€ç»è¿‡æˆ˜æ–—æµ‹è¯•çš„ä»£ç åº“ã€‚</p>
<hr>
<h3 id="-èµåŠ©å•†-">ğŸš€ èµåŠ©å•† ğŸš€</h3>
<p><a href="https://dashboard.redisgreen.net/new?utm_campaign=BULLMQ"><img src="/assets/images/redisgreen_transparent_240x48.png" width="150" alt="RedisGreen" style="padding: 100px"/></a></p>
<p>å¦‚æœæ‚¨éœ€è¦é«˜è´¨é‡çš„ç”Ÿäº§ Redis å®ä¾‹ä¸ºæ‚¨çš„ Bull é¡¹ç›®ï¼Œè¯·è€ƒè™‘è®¢é˜…<a href="https://dashboard.redisgreen.net/new?utm_campaign=BULLMQ">RedisGreen</a>,Redis çš„é¢†å¯¼è€…ä»¬ä¸ Bull å®Œç¾åœ°åˆä½œã€‚
æ³¨å†Œæ—¶è¯·ä½¿ç”¨ä¿ƒé”€ä»£ç â€œBULLMQâ€ï¼Œä»¥å¸®åŠ©æˆ‘ä»¬èµåŠ© Bull çš„å‘å±•!</p>
<hr>

	
		<style>
  .feedback--answer {
    display: inline-block;
  }
  .feedback--answer-no {
    margin-left: 1em;
  }
  .feedback--response {
    display: none;
    margin-top: 1em;
  }
  .feedback--response__visible {
    display: block;
  }
</style>
<div class="d-print-none">
<h2 class="feedback--title">Feedback</h2>
<p class="feedback--question">Was this page helpful?</p>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-yes">Yes</button>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-no">No</button>
<p class="feedback--response feedback--response-yes">
  Glad to hear it! Please <a href="https://github.com/USERNAME/REPOSITORY/issues/new">tell us how we can improve</a>.
</p>
<p class="feedback--response feedback--response-no">
  Sorry to hear that. Please <a href="https://github.com/USERNAME/REPOSITORY/issues/new">tell us how we can improve</a>.
</p>
</div>
<script>
  const yesButton = document.querySelector('.feedback--answer-yes');
  const noButton = document.querySelector('.feedback--answer-no');
  const yesResponse = document.querySelector('.feedback--response-yes');
  const noResponse = document.querySelector('.feedback--response-no');
  const disableButtons = () => {
    yesButton.disabled = true;
    noButton.disabled = true;
  };
  const sendFeedback = (value) => {
    if (typeof ga !== 'function') return;
    const args = {
      command: 'send',
      hitType: 'event',
      category: 'Helpful',
      action: 'click',
      label: window.location.pathname,
      value: value
    };
    ga(args.command, args.hitType, args.category, args.action, args.label, args.value);
  };
  yesButton.addEventListener('click', () => {
    yesResponse.classList.add('feedback--response__visible');
    disableButtons();
    sendFeedback(1);
  });
  noButton.addEventListener('click', () => {
    noResponse.classList.add('feedback--response__visible');
    disableButtons();
    sendFeedback(0);
  });
</script>

		<br />
	
	
	<div class="text-muted mt-5 pt-3 border-top">
  æœ€åä¿®æ”¹ March 25, 2022: <a href="https://github.com/wdk-docs/nestjs-docs/commit/66570f6438118604c032a8738d84ee42e5c3645d">add img (66570f6)</a>
</div>

</div>


          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="User mailing list" aria-label="User mailing list">
    <a class="text-white" target="_blank" rel="noopener" href="https://example.org/mail" aria-label="User mailing list">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-white" target="_blank" rel="noopener" href="https://example.org/twitter" aria-label="Twitter">
      <i class="fab fa-twitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Stack Overflow" aria-label="Stack Overflow">
    <a class="text-white" target="_blank" rel="noopener" href="https://example.org/stack" aria-label="Stack Overflow">
      <i class="fab fa-stack-overflow"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" rel="noopener" href="https://github.com/google/docsy" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack" aria-label="Slack">
    <a class="text-white" target="_blank" rel="noopener" href="https://example.org/slack" aria-label="Slack">
      <i class="fab fa-slack"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Developer mailing list" aria-label="Developer mailing list">
    <a class="text-white" target="_blank" rel="noopener" href="https://example.org/mail" aria-label="Developer mailing list">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2022 kamilmysliwiec ä¿ç•™æ‰€æœ‰æƒåˆ©</small>
        <small class="ml-1"><a href="https://kamilmysliwiec.com/" target="_blank" rel="noopener">éšç§æ”¿ç­–</a></small>
	
		
	
      </div>
    </div>
  </div>
</footer>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js"
    integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA=="
    crossorigin="anonymous"></script>





<script src='/nestjs-docs/js/tabpane-persist.js'></script>


















<script src="/nestjs-docs/js/main.min.5f8acc65da891d70878ed44429f6a9dd7fab27a5cf9a7ceaa139c4059e89cfdc.js" integrity="sha256-X4rMZdqJHXCHjtREKfap3X&#43;rJ6XPmnzqoTnEBZ6Jz9w=" crossorigin="anonymous"></script>




  </body>
</html>