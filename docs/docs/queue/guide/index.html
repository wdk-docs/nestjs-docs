<!doctype html>
<html lang="zh-cn" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.97.3" />
<meta name="robots" content="index, follow">


<link rel="shortcut icon" href="/nestjs-docs/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/nestjs-docs/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/nestjs-docs/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/nestjs-docs/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/nestjs-docs/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/nestjs-docs/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/nestjs-docs/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/nestjs-docs/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/nestjs-docs/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/nestjs-docs/favicons/android-192x192.png" sizes="192x192">

<title>指南 | NestJS 文档</title>
<meta name="description" content="

Bull 是什么?
开始
简单的队列

生产者
消费者
侦听器
一份工作的生命周期
停滞不前的工作


事件
队列的选项

速度限制器
命名工作
沙箱处理器


作业类型

LIFO
延迟
优先
可重复的



Bull 是什么?
Bull 是一个 Node 库，它实现了一个快速、 …">
<meta property="og:title" content="指南" />
<meta property="og:description" content="Bull 是什么? 开始 简单的队列  生产者 消费者 侦听器 一份工作的生命周期 停滞不前的工作   事件 队列的选项  速度限制器 命名工作 沙箱处理器   作业类型  LIFO 延迟 优先 可重复的    Bull 是什么? Bull 是一个 Node 库，它实现了一个快速、健壮的基于redis的队列系统。
虽然可以直接使用 Redis 命令来实现队列，但这个库提供了一个 API 来处理所有底层细节，并丰富了 Redis 的基本功能，这样更复杂的用例就可以轻松处理。
如果你不熟悉排队，你可能会想为什么需要排队。 队列可以以一种优雅的方式解决许多不同的问题，从平滑处理高峰到在微服务之间创建健壮的通信通道，或将繁重的工作从一台服务器转移到许多较小的 worker，等等。
开始 Bull 是一个公共的 npm 包，可以使用 npm 或 yarn 来安装:
$ npm install bull --save or
$ yarn add bull 为了使用 Bull，你还需要有一个运行的 Redis 服务器。 对于本地开发，您可以使用docker轻松安装它。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://wdk-docs.github.io/nestjs-docs/docs/queue/guide/" /><meta property="article:section" content="docs" />

<meta property="article:modified_time" content="2022-05-10T22:54:37+08:00" /><meta property="og:site_name" content="NestJS 文档" />

<meta itemprop="name" content="指南">
<meta itemprop="description" content="Bull 是什么? 开始 简单的队列  生产者 消费者 侦听器 一份工作的生命周期 停滞不前的工作   事件 队列的选项  速度限制器 命名工作 沙箱处理器   作业类型  LIFO 延迟 优先 可重复的    Bull 是什么? Bull 是一个 Node 库，它实现了一个快速、健壮的基于redis的队列系统。
虽然可以直接使用 Redis 命令来实现队列，但这个库提供了一个 API 来处理所有底层细节，并丰富了 Redis 的基本功能，这样更复杂的用例就可以轻松处理。
如果你不熟悉排队，你可能会想为什么需要排队。 队列可以以一种优雅的方式解决许多不同的问题，从平滑处理高峰到在微服务之间创建健壮的通信通道，或将繁重的工作从一台服务器转移到许多较小的 worker，等等。
开始 Bull 是一个公共的 npm 包，可以使用 npm 或 yarn 来安装:
$ npm install bull --save or
$ yarn add bull 为了使用 Bull，你还需要有一个运行的 Redis 服务器。 对于本地开发，您可以使用docker轻松安装它。">
<meta itemprop="dateModified" content="2022-05-10T22:54:37+08:00" />
<meta itemprop="wordCount" content="509">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="指南"/>
<meta name="twitter:description" content="Bull 是什么? 开始 简单的队列  生产者 消费者 侦听器 一份工作的生命周期 停滞不前的工作   事件 队列的选项  速度限制器 命名工作 沙箱处理器   作业类型  LIFO 延迟 优先 可重复的    Bull 是什么? Bull 是一个 Node 库，它实现了一个快速、健壮的基于redis的队列系统。
虽然可以直接使用 Redis 命令来实现队列，但这个库提供了一个 API 来处理所有底层细节，并丰富了 Redis 的基本功能，这样更复杂的用例就可以轻松处理。
如果你不熟悉排队，你可能会想为什么需要排队。 队列可以以一种优雅的方式解决许多不同的问题，从平滑处理高峰到在微服务之间创建健壮的通信通道，或将繁重的工作从一台服务器转移到许多较小的 worker，等等。
开始 Bull 是一个公共的 npm 包，可以使用 npm 或 yarn 来安装:
$ npm install bull --save or
$ yarn add bull 为了使用 Bull，你还需要有一个运行的 Redis 服务器。 对于本地开发，您可以使用docker轻松安装它。"/>




<link rel="preload" href="/nestjs-docs/scss/main.min.90983698afafd407e6b72e83a2b749ff1726e8502277108f05bd66510938dec2.css" as="style">
<link href="/nestjs-docs/scss/main.min.90983698afafd407e6b72e83a2b749ff1726e8502277108f05bd66510938dec2.css" rel="stylesheet" integrity="">

<script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK"
  crossorigin="anonymous"></script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-00000000-0', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  </head>
  <body class="td-page">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/nestjs-docs/">
		<span class="navbar-logo"><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 500 500" style="enable-background:new 0 0 500 500"><g><path style="fill:#fff" d="M116.8525 421.9722c-5.7041.0-10.3442-4.3127-10.3442-9.6129V88.183c0-5.3002 4.6401-9.6117 10.3442-9.6117H320.858c3.0347.0 9.3959.5498 11.7506 2.6302l.3545.3442 58.905 63.2912c2.3101 2.491 2.9202 8.4928 2.9202 11.3184v256.2039c0 5.3002-4.6407 9.6129-10.3436 9.6129H116.8525z"/><g><g><g><path style="fill:#767676" d="M384.4445 423.2066H116.852c-6.3839.0-11.5786-4.8658-11.5786-10.8474V88.1831c0-5.9804 5.1947-10.8461 11.5786-10.8461h204.0062c.377.0 9.2786.0329 12.568 2.9389l.3947.3833 58.9508 63.337c3.2135 3.4652 3.2514 11.7924 3.2514 12.1593v256.2036C396.0231 418.3408 390.8284 423.2066 384.4445 423.2066zM116.5079 411.9189c.0848.0278.1999.0531.3441.0531h267.5925c.1442.0.2581-.0253.3441-.0531V156.1556c-.0076-.9033-.3593-3.7347-.7034-5.0037l-57.6527-61.9416c-1.4651-.3176-4.4533-.6389-5.5742-.6389H116.852c-.143.0-.2594.024-.3441.0531V411.9189zm267.4533-261.149zM327.0321 89.371v.0013V89.371z"/></g></g></g><g><g><path style="fill:#5b7fc0" d="M189.0874 210.1754l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4473C177.5953 212.627 183.0601 210.1742 189.0874 210.1754zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 234.1722 197.0804 232.033z"/><path style="opacity:.3;fill:#fff" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/><g><defs><path id="SVGID_1_" d="M194.7376 237.6875c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 234.2399 196.1861 236.239 194.7376 237.6875z"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_2_);fill:#fff" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/><path style="opacity:.13;clip-path:url(#SVGID_2_);fill:#020202" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/></g><g><defs><path id="SVGID_3_" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/></defs><clipPath id="SVGID_4_"><use xlink:href="#SVGID_3_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_4_);fill:#5b7fc0" d="M172.6595 215.6045c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8475-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 209.1953 176.6171 211.647 172.6595 215.6045z"/></g></g><rect x="198.8952" y="225.1043" style="fill:#5b7fc0" width="122.6266" height="13.8671"/></g><g><path style="fill:#d95140" d="M189.0874 155.7611l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.0249 2.454-11.4897 6.4116-15.4473C177.5953 158.2128 183.0601 155.7599 189.0874 155.7611zm7.993 21.8577c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.2508 181.7667 197.0816 179.758 197.0804 177.6188z"/><path style="opacity:.3;fill:#fff" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/><g><defs><path id="SVGID_5_" d="M194.7376 183.2733c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 179.8256 196.1861 181.8248 194.7376 183.2733z"/></defs><clipPath id="SVGID_6_"><use xlink:href="#SVGID_5_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_6_);fill:#fff" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/><path style="opacity:.13;clip-path:url(#SVGID_6_);fill:#020202" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/></g><g><defs><path id="SVGID_7_" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/></defs><clipPath id="SVGID_8_"><use xlink:href="#SVGID_7_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_8_);fill:#d95140" d="M172.6595 161.1903c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 154.7811 176.6171 157.2327 172.6595 161.1903z"/></g><rect x="198.8952" y="170.69" style="fill:#d95140" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#56a55c" d="M189.5379 264.6147l.0012-.0012c7.7751.0012 15.0294 4.1862 18.932 10.9235 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032-5.8394.0-11.3281-2.2733-15.458-6.4032-4.13-4.13-6.4032-9.6186-6.4056-15.4628.0012-6.0249 2.454-11.4897 6.4116-15.4472C178.0458 267.0663 183.5105 264.6135 189.5379 264.6147zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6538 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.7013 290.6202 197.5321 288.6115 197.5309 286.4723z"/><path style="opacity:.3;fill:#fff" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/><g><defs><path id="SVGID_9_" d="M195.1881 292.1268c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9941 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.5344 288.6792 196.6366 290.6783 195.1881 292.1268z"/></defs><clipPath id="SVGID_10_"><use xlink:href="#SVGID_9_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_10_);fill:#fff" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/><path style="opacity:.13;clip-path:url(#SVGID_10_);fill:#020202" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/></g><g><defs><path id="SVGID_11_" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/></defs><clipPath id="SVGID_12_"><use xlink:href="#SVGID_11_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_12_);fill:#56a55c" d="M173.11 270.0439c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7325-11.1497-10.9151-18.926-10.9151C182.5311 263.6346 177.0676 266.0863 173.11 270.0439z"/></g></g><rect x="199.3456" y="279.5436" style="fill:#56a55c" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#f1bc42" d="M189.0874 318.7208l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3305-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4472C177.5953 321.1724 183.0601 318.7196 189.0874 318.7208zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 342.7176 197.0804 340.5784z"/><path style="opacity:.3;fill:#fff" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/><g><defs><path id="SVGID_13_" d="M194.7376 346.2329c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 342.7853 196.1861 344.7844 194.7376 346.2329z"/></defs><clipPath id="SVGID_14_"><use xlink:href="#SVGID_13_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_14_);fill:#fff" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/><path style="opacity:.13;clip-path:url(#SVGID_14_);fill:#020202" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/></g><g><defs><path id="SVGID_15_" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/></defs><clipPath id="SVGID_16_"><use xlink:href="#SVGID_15_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_16_);fill:#f1bc42" d="M172.6595 324.15c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8474-1.0151-7.6327-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 317.7407 176.6171 320.1924 172.6595 324.15z"/></g></g><rect x="198.8952" y="333.6497" style="fill:#f1bc42" width="122.6266" height="13.8671"/></g></g></svg></span><span class="font-weight-bold">NestJS 文档</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link active" href="/nestjs-docs/docs/" ><span class="active">文档</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="/nestjs-docs/blog/" ><span>博客</span></a>
			</li>
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block"><input type="search" class="form-control td-search-input" placeholder="&#xf002; 站内搜索…" aria-label="站内搜索…" autocomplete="off">
</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            
<div id="td-sidebar-menu" class="td-sidebar__inner">
  <form class="td-sidebar__search d-flex align-items-center">
    <input type="search" class="form-control td-search-input" placeholder="&#xf002; 站内搜索…" aria-label="站内搜索…" autocomplete="off">

    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  <nav class="collapse td-sidebar-nav" id="td-section-nav">
    <ul class="td-sidebar-nav__section pr-md-3 ul-0">
      <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-nestjs-docsdocs-li">
  <a href="/nestjs-docs/docs/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id="m-nestjs-docsdocs"><span class="">文档</span></a>
  <ul class="ul-1">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-nestjs-docsdocsvalidator-li">
  <a href="/nestjs-docs/docs/validator/" title="validator" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-nestjs-docsdocsvalidator"><span class="">验证器</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocsvalidatorclass-validator-li">
  <a href="/nestjs-docs/docs/validator/class-validator/" title="class-validator" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocsvalidatorclass-validator"><span class="">类验证</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocsvalidatorclass-transformer-li">
  <a href="/nestjs-docs/docs/validator/class-transformer/" title="class-transformer" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocsvalidatorclass-transformer"><span class="">转换类</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-nestjs-docsdocsmongodb-li">
  <a href="/nestjs-docs/docs/mongodb/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-nestjs-docsdocsmongodb"><span class="">mongodb</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocsmongodbtypescript-express-put-vs-patch-mongodb-mongoose-li">
  <a href="/nestjs-docs/docs/mongodb/typescript-express-put-vs-patch-mongodb-mongoose/" title="MongoDB与Mongoose使用PUT vs PATCH" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocsmongodbtypescript-express-put-vs-patch-mongodb-mongoose"><span class="">PUT对比PATCH</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocsmongodbintroduction-li">
  <a href="/nestjs-docs/docs/mongodb/introduction/" title="MongoDB概论" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocsmongodbintroduction"><span class="">介绍</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocsmongodbrelationships-li">
  <a href="/nestjs-docs/docs/mongodb/relationships/" title="实现与MongoDB的关系" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocsmongodbrelationships"><span class="">实现关系</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocsmongodbvirtual-li">
  <a href="/nestjs-docs/docs/mongodb/virtual/" title="MongoDB和Mongoose的虚拟属性" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocsmongodbvirtual"><span class="">虚拟属性</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocsmongodbtransactions-li">
  <a href="/nestjs-docs/docs/mongodb/transactions/" title="与MongoDB和Mongoose管理事务" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocsmongodbtransactions"><span class="">管理事务</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocsmongodbpagination-li">
  <a href="/nestjs-docs/docs/mongodb/pagination/" title="使用MongoDB和Mongoose实现分页" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocsmongodbpagination"><span class="">实现分页</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocsmongodbindexes-li">
  <a href="/nestjs-docs/docs/mongodb/indexes/" title="使用MongoDB和Mongoose定义索引" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocsmongodbindexes"><span class="">定义索引</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocsmongodbupdating-li">
  <a href="/nestjs-docs/docs/mongodb/updating/" title="用PUT和PATCH更新MongoDB和Mongoose" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocsmongodbupdating"><span class="">更新</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-nestjs-docsdocsfiles-li">
  <a href="/nestjs-docs/docs/files/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-nestjs-docsdocsfiles"><span class="">files</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocsfilesapi-nestjs-uploading-files-to-server-li">
  <a href="/nestjs-docs/docs/files/api-nestjs-uploading-files-to-server/" title="Uploading files to the server" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocsfilesapi-nestjs-uploading-files-to-server"><span class="">文件上传</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-nestjs-docsdocshttp-li">
  <a href="/nestjs-docs/docs/http/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-nestjs-docsdocshttp"><span class="">http</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocshttpaxios-li">
  <a href="/nestjs-docs/docs/http/axios/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocshttpaxios"><span class="">axios</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocshttpnest-axios-interceptor-li">
  <a href="/nestjs-docs/docs/http/nest-axios-interceptor/" title="@narando/nest-axios-interceptor" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocshttpnest-axios-interceptor"><span class="">拦截器</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocshttpaxios-auth-refresh-li">
  <a href="/nestjs-docs/docs/http/axios-auth-refresh/" title="axios-auth-refresh" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocshttpaxios-auth-refresh"><span class="">认证刷新</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocshttpapi-nestjs-error-handling-validation-li">
  <a href="/nestjs-docs/docs/http/api-nestjs-error-handling-validation/" title="错误处理和数据验证" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocshttpapi-nestjs-error-handling-validation"><span class="">错误处理</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocshttpnode-cache-manager-li">
  <a href="/nestjs-docs/docs/http/node-cache-manager/" title="node-cache-manager - 灵活的NodeJS缓存模块" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocshttpnode-cache-manager"><span class="">缓存管理</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocshttpapi-nestjs-stripe-events-webhooks-li">
  <a href="/nestjs-docs/docs/http/api-nestjs-stripe-events-webhooks/" title="用webhook对Stripe事件做出反应" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocshttpapi-nestjs-stripe-events-webhooks"><span class="">Stripe事件</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-nestjs-docsdocslogs-li">
  <a href="/nestjs-docs/docs/logs/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-nestjs-docsdocslogs"><span class="">logs</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocslogsapi-nestjs-logging-typeorm-li">
  <a href="/nestjs-docs/docs/logs/api-nestjs-logging-typeorm/" title="介绍使用内置记录器和TypeORM进行日志记录" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocslogsapi-nestjs-logging-typeorm"><span class="">日志介绍</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-nestjs-docsdocsqueue-li">
  <a href="/nestjs-docs/docs/queue/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-nestjs-docsdocsqueue"><span class="">队列</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocsqueuebull-li">
  <a href="/nestjs-docs/docs/queue/bull/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocsqueuebull"><span class="">bull</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id="m-nestjs-docsdocsqueueguide-li">
  <a href="/nestjs-docs/docs/queue/guide/" class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocsqueueguide"><span class="td-sidebar-nav-active-item">指南</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocsqueuereference-li">
  <a href="/nestjs-docs/docs/queue/reference/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocsqueuereference"><span class="">参考</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocsqueuepatterns-li">
  <a href="/nestjs-docs/docs/queue/patterns/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocsqueuepatterns"><span class="">模式</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-nestjs-docsdocsopenapi-li">
  <a href="/nestjs-docs/docs/openapi/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-nestjs-docsdocsopenapi"><span class="">OpenAPI-swagger</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocsopenapiapi-nestjs-openapi-swagger-li">
  <a href="/nestjs-docs/docs/openapi/api-nestjs-openapi-swagger/" title="OpenAPI规范和Swagger" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocsopenapiapi-nestjs-openapi-swagger"><span class="">Swagger</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-nestjs-docsdocscompodoc-li">
  <a href="/nestjs-docs/docs/compodoc/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-nestjs-docsdocscompodoc"><span class="">Compodoc</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocscompodocfeatures-li">
  <a href="/nestjs-docs/docs/compodoc/features/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocscompodocfeatures"><span class="">特性</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocscompodocdemo-li">
  <a href="/nestjs-docs/docs/compodoc/demo/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocscompodocdemo"><span class="">现场演示</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocscompodocinstallation-li">
  <a href="/nestjs-docs/docs/compodoc/installation/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocscompodocinstallation"><span class="">安装</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocscompodoctutorial-li">
  <a href="/nestjs-docs/docs/compodoc/tutorial/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocscompodoctutorial"><span class="">教程</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocscompodocoptions-li">
  <a href="/nestjs-docs/docs/compodoc/options/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocscompodocoptions"><span class="">选项</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocscompodocusage-li">
  <a href="/nestjs-docs/docs/compodoc/usage/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocscompodocusage"><span class="">使用</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocscompodocthemes-li">
  <a href="/nestjs-docs/docs/compodoc/themes/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocscompodocthemes"><span class="">主题</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocscompodoccomments-li">
  <a href="/nestjs-docs/docs/compodoc/comments/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocscompodoccomments"><span class="">注释</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocscompodocjsdoc-tags-li">
  <a href="/nestjs-docs/docs/compodoc/jsdoc-tags/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocscompodocjsdoc-tags"><span class="">JSDoc 标签</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocscompodocrouting-li">
  <a href="/nestjs-docs/docs/compodoc/routing/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocscompodocrouting"><span class="">路由</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocscompodocdocumentation-coverage-li">
  <a href="/nestjs-docs/docs/compodoc/documentation-coverage/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocscompodocdocumentation-coverage"><span class="">文档覆盖</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocscompodoctips-and-tricks-li">
  <a href="/nestjs-docs/docs/compodoc/tips-and-tricks/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocscompodoctips-and-tricks"><span class="">提示和技巧</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocscompodocextensions-li">
  <a href="/nestjs-docs/docs/compodoc/extensions/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocscompodocextensions"><span class="">扩展</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocscompodocmiscellaneous-li">
  <a href="/nestjs-docs/docs/compodoc/miscellaneous/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocscompodocmiscellaneous"><span class="">杂项</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocscompodoclive-example-tab-li">
  <a href="/nestjs-docs/docs/compodoc/live-example-tab/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocscompodoclive-example-tab"><span class="">现场例子选项卡</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocscompodoctab-configuration-li">
  <a href="/nestjs-docs/docs/compodoc/tab-configuration/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocscompodoctab-configuration"><span class="">选项卡配置</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocscompodochosting-li">
  <a href="/nestjs-docs/docs/compodoc/hosting/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocscompodochosting"><span class="">托管</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-nestjs-docsdocsawesome-li">
  <a href="/nestjs-docs/docs/awesome/" title="awesome" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-nestjs-docsdocsawesome"><span class="">资源集合</span></a>
</li>
  </ul>
</li>
    </ul>
  </nav>
</div>

          </aside>
          <aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
            
<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">
<a href="https://github.com/wdk-docs/nestjs-docs/tree/main/content/zh-cn/docs/queue/guide.md" class="td-page-meta--view" target="_blank" rel="noopener"><i class="fa fa-file-alt fa-fw"></i> 查看页面源码</a>
  <a href="https://github.com/wdk-docs/nestjs-docs/edit/main/content/zh-cn/docs/queue/guide.md" class="td-page-meta--edit" target="_blank" rel="noopener"><i class="fa fa-edit fa-fw"></i> 编辑此页</a>
  <a href="https://github.com/wdk-docs/nestjs-docs/new/main/content/zh-cn/docs/queue/guide.md?filename=change-me.md&amp;value=---%0Atitle%3A&#43;%22Long&#43;Page&#43;Title%22%0AlinkTitle%3A&#43;%22Short&#43;Nav&#43;Title%22%0Aweight%3A&#43;100%0Adescription%3A&#43;%3E-%0A&#43;&#43;&#43;&#43;&#43;Page&#43;description&#43;for&#43;heading&#43;and&#43;indexes.%0A---%0A%0A%23%23&#43;Heading%0A%0AEdit&#43;this&#43;template&#43;to&#43;create&#43;your&#43;new&#43;page.%0A%0A%2A&#43;Give&#43;it&#43;a&#43;good&#43;name%2C&#43;ending&#43;in&#43;%60.md%60&#43;-&#43;e.g.&#43;%60getting-started.md%60%0A%2A&#43;Edit&#43;the&#43;%22front&#43;matter%22&#43;section&#43;at&#43;the&#43;top&#43;of&#43;the&#43;page&#43;%28weight&#43;controls&#43;how&#43;its&#43;ordered&#43;amongst&#43;other&#43;pages&#43;in&#43;the&#43;same&#43;directory%3B&#43;lowest&#43;number&#43;first%29.%0A%2A&#43;Add&#43;a&#43;good&#43;commit&#43;message&#43;at&#43;the&#43;bottom&#43;of&#43;the&#43;page&#43;%28%3C80&#43;characters%3B&#43;use&#43;the&#43;extended&#43;description&#43;field&#43;for&#43;more&#43;detail%29.%0A%2A&#43;Create&#43;a&#43;new&#43;branch&#43;so&#43;you&#43;can&#43;preview&#43;your&#43;new&#43;file&#43;and&#43;request&#43;a&#43;review&#43;via&#43;Pull&#43;Request.%0A" class="td-page-meta--child" target="_blank" rel="noopener"><i class="fa fa-edit fa-fw"></i> 添加子页面</a>
  <a href="https://github.com/wdk-docs/nestjs-docs/issues/new?title=%e6%8c%87%e5%8d%97" class="td-page-meta--issue" target="_blank" rel="noopener"><i class="fab fa-github fa-fw"></i> 提交文档问题</a>
  <a href="https://github.com/wdk-docs/nestjs-docs/issues/new" class="td-page-meta--project-issue" target="_blank" rel="noopener"><i class="fas fa-tasks fa-fw"></i> 提交项目问题</a>
  <a id="print" href="https://wdk-docs.github.io/nestjs-docs/docs/queue/_print/"><i class="fa fa-print fa-fw"></i> 整节打印</a>

</div>

            


<div class="td-toc"><nav id="TableOfContents">
  <ul>
    <li><a href="#bull-是什么">Bull 是什么?</a></li>
    <li><a href="#开始">开始</a></li>
    <li><a href="#简单的队列">简单的队列</a>
      <ul>
        <li><a href="#生产者">生产者</a></li>
        <li><a href="#消费者">消费者</a></li>
        <li><a href="#侦听器">侦听器</a></li>
        <li><a href="#一份工作的生命周期">一份工作的生命周期</a></li>
        <li><a href="#停滞不前的工作">停滞不前的工作</a></li>
      </ul>
    </li>
    <li><a href="#事件">事件</a></li>
    <li><a href="#队列的选项">队列的选项</a>
      <ul>
        <li><a href="#速度限制器">速度限制器</a></li>
        <li><a href="#命名工作">命名工作</a></li>
        <li><a href="#沙箱处理器">沙箱处理器</a></li>
      </ul>
    </li>
    <li><a href="#作业类型">作业类型</a>
      <ul>
        <li><a href="#lifo">LIFO</a></li>
        <li><a href="#延迟">延迟</a></li>
        <li><a href="#优先">优先</a></li>
        <li><a href="#可重复的">可重复的</a></li>
      </ul>
    </li>
  </ul>
</nav></div>



            

	
		
			
				
			
			



  
  

		
			
				
			
			



  
  

		
	

          </aside>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="td-breadcrumbs">
  <ol class="breadcrumb">
  <li class="breadcrumb-item">
    <a href="https://wdk-docs.github.io/nestjs-docs/docs/">文档</a>
  </li>
  <li class="breadcrumb-item">
    <a href="https://wdk-docs.github.io/nestjs-docs/docs/queue/">队列</a>
  </li>
  <li class="breadcrumb-item active" aria-current="page">
    <a href="https://wdk-docs.github.io/nestjs-docs/docs/queue/guide/">指南</a>
  </li>
  </ol>
</nav>
            
<div class="td-content">
	<h1>指南</h1>
	
	<header class="article-meta">
		

  
    
      


    
      


    
  

		
	</header>    
	<p><img src="https://raw.githubusercontent.com/OptimalBits/bull/master/support/logo%402x.png" alt=""></p>
<ul>
<li><a href="#bull-%E6%98%AF%E4%BB%80%E4%B9%88">Bull 是什么?</a></li>
<li><a href="#%E5%BC%80%E5%A7%8B">开始</a></li>
<li><a href="#%E7%AE%80%E5%8D%95%E7%9A%84%E9%98%9F%E5%88%97">简单的队列</a>
<ul>
<li><a href="#%E7%94%9F%E4%BA%A7%E8%80%85">生产者</a></li>
<li><a href="#%E6%B6%88%E8%B4%B9%E8%80%85">消费者</a></li>
<li><a href="#%E4%BE%A6%E5%90%AC%E5%99%A8">侦听器</a></li>
<li><a href="#%E4%B8%80%E4%BB%BD%E5%B7%A5%E4%BD%9C%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F">一份工作的生命周期</a></li>
<li><a href="#%E5%81%9C%E6%BB%9E%E4%B8%8D%E5%89%8D%E7%9A%84%E5%B7%A5%E4%BD%9C">停滞不前的工作</a></li>
</ul>
</li>
<li><a href="#%E4%BA%8B%E4%BB%B6">事件</a></li>
<li><a href="#%E9%98%9F%E5%88%97%E7%9A%84%E9%80%89%E9%A1%B9">队列的选项</a>
<ul>
<li><a href="#%E9%80%9F%E5%BA%A6%E9%99%90%E5%88%B6%E5%99%A8">速度限制器</a></li>
<li><a href="#%E5%91%BD%E5%90%8D%E5%B7%A5%E4%BD%9C">命名工作</a></li>
<li><a href="#%E6%B2%99%E7%AE%B1%E5%A4%84%E7%90%86%E5%99%A8">沙箱处理器</a></li>
</ul>
</li>
<li><a href="#%E4%BD%9C%E4%B8%9A%E7%B1%BB%E5%9E%8B">作业类型</a>
<ul>
<li><a href="#lifo">LIFO</a></li>
<li><a href="#%E5%BB%B6%E8%BF%9F">延迟</a></li>
<li><a href="#%E4%BC%98%E5%85%88">优先</a></li>
<li><a href="#%E5%8F%AF%E9%87%8D%E5%A4%8D%E7%9A%84">可重复的</a></li>
</ul>
</li>
</ul>
<h2 id="bull-是什么">Bull 是什么?</h2>
<p>Bull 是一个 Node 库，它实现了一个快速、健壮的基于<a href="https://redis.io">redis</a>的队列系统。</p>
<p>虽然可以直接使用 Redis 命令来实现队列，但这个库提供了一个 API 来处理所有底层细节，并丰富了 Redis 的基本功能，这样更复杂的用例就可以轻松处理。</p>
<p>如果你不熟悉排队，你可能会想为什么需要排队。
队列可以以一种优雅的方式解决许多不同的问题，从平滑处理高峰到在微服务之间创建健壮的通信通道，或将繁重的工作从一台服务器转移到许多较小的 worker，等等。</p>
<h2 id="开始">开始</h2>
<p>Bull 是一个公共的 npm 包，可以使用 npm 或 yarn 来安装:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ npm install bull --save
</span></span></code></pre></div><p>or</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ yarn add bull
</span></span></code></pre></div><p>为了使用 Bull，你还需要有一个运行的 Redis 服务器。
对于本地开发，您可以使用<a href="https://hub.docker.com/_/redis/">docker</a>轻松安装它。</p>
<p>Bull 将默认尝试连接到运行在&rsquo; localhost:6379 &lsquo;上的 Redis 服务器</p>
<h2 id="简单的队列">简单的队列</h2>
<p>一个队列可以通过实例化一个 Bull 实例来创建:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">myFirstQueue</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Bull</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;my-first-queue&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>一个队列实例通常有 3 个不同的主要角色:作业生产者、作业使用者或/和事件侦听器。</p>
<p>虽然一个给定的实例可以用于这 3 个角色，但通常生产者和消费者被划分为几个实例。
一个给定的队列，总是通过它的实例化名称(在上面的示例中是&rsquo; my-first-queue &lsquo;)引用，可以有许多生产者、许多消费者和许多侦听器。
一个重要的方面是，生产者可以将作业添加到队列中，即使此时没有可用的消费者:队列提供异步通信，这是使它们如此强大的特性之一。</p>
<p>相反，您可以让一个或多个 worker 从队列中消耗作业，它将按照给定的顺序消耗作业:FIFO(默认)、LIFO 或根据优先级。</p>
<p>说到 worker，它们可以运行在相同或不同的进程中，在同一台机器或集群中。
Redis 将充当一个公共点，只要消费者或生产商能够连接到 Redis，他们就能够协同处理工作。</p>
<h3 id="生产者">生产者</h3>
<p>作业生成器是一个简单的 Node 程序，它将作业添加到队列中，像这样:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">myFirstQueue</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Bull</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;my-first-queue&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">job</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">await</span> <span style="color:#000">myFirstQueue</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">add</span><span style="color:#000;font-weight:bold">({</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">foo</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;bar&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">});</span>
</span></span></code></pre></div><p>正如您所看到的，作业只是一个 javascript 对象。
这个对象需要是可序列化的，更具体的是，它应该可以 JSON 字符串化，因为这是它将如何存储在 Redis。</p>
<p>也可以在作业数据之后提供一个 options 对象，但我们将在后面讨论这个问题。</p>
<h3 id="消费者">消费者</h3>
<p>消费者或工作者(我们将在本指南中交替使用这两个术语)只不过是一个 Node 程序
它定义了像这样的进程函数:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">myFirstQueue</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Bull</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;my-first-queue&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">myFirstQueue</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">process</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">async</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">job</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">=&gt;</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">doSomething</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">job</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">data</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">});</span>
</span></span></code></pre></div><p>每当工作线程处于空闲状态且队列中有作业需要处理时，&rsquo; process &lsquo;函数就会被调用。
由于在添加作业时，消费者不需要在线，因此队列中可能已经有许多作业在等待，因此进程将保持忙碌，一个接一个地处理作业，直到所有作业都完成。</p>
<p>在上面的例子中，我们将进程函数定义为&rsquo; async &lsquo;，这是强烈推荐的定义它们的方式。
如果你的 Node 运行时不支持 async/await，那么你可以在进程结束时返回一个 promise
函数，以得到类似的结果。</p>
<p>进程函数返回的值将存储在 jobs 对象中，稍后可以访问，例如在“completed”事件的监听器中。</p>
<p>有时你需要向外部监听器提供 job 的<em>progress</em>信息，这可以通过在 job 对象上使用&rsquo; progress &lsquo;方法轻松完成:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000">myFirstQueue</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">process</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">async</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">job</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">=&gt;</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">let</span> <span style="color:#000">progress</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#0000cf;font-weight:bold">100</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:bold">++</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">await</span> <span style="color:#000">doSomething</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">job</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">data</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">progress</span> <span style="color:#ce5c00;font-weight:bold">+=</span> <span style="color:#0000cf;font-weight:bold">10</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">job</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">progress</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">progress</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">});</span>
</span></span></code></pre></div><h3 id="侦听器">侦听器</h3>
<p>最后，您可以只侦听队列中发生的事件。
侦听器可以是本地的，这意味着它们只接收在<em>给定队列实例</em>中产生的通知，也可以是全局的，这意味着它们侦听给定队列的<em>所有</em>事件。
因此，您可以将侦听器附加到任何实例，甚至充当消费者或生产者的实例。
但是请注意，如果队列不是消费者或生产者，本地事件将永远不会触发，在这种情况下，您将需要使用全局事件。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">myFirstQueue</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Bull</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;my-first-queue&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// Define a local completed event
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">myFirstQueue</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">on</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;completed&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">job</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">result</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">=&gt;</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">console</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">`Job completed with result </span><span style="color:#4e9a06">${</span><span style="color:#000">result</span><span style="color:#4e9a06">}</span><span style="color:#4e9a06">`</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">});</span>
</span></span></code></pre></div><h3 id="一份工作的生命周期">一份工作的生命周期</h3>
<p>为了充分利用 Bull 队列的潜力，理解作业的生命周期是很重要的。
从生产者对队列实例调用“add”方法的那一刻起，作业就进入了它需要的生命周期
处于不同的状态，直到它完成或失败(尽管技术上失败的作业可以重试并获得新的生命周期)。</p>
<p>显示作业状态的示意图(job-lifecycle.png)</p>
<p>当一个作业被添加到一个队列时，它可以处于两种状态之一，它可以处于“等待”状态，这实际上是一个等待列表，所有的作业都必须进入这个列表才能被处理，或者它可以处于“延迟”状态:延迟状态意味着该作业正在等待超时或等待被提升处理，但是，延迟的作业不会直接被处理，而是被放置在等待列表的开头，当一个 worker 空闲时就会被处理。</p>
<p>作业的下一个状态是“活动”状态。
活动状态由一个集合表示，是当前正在处理的作业，即。
它们运行在上一章解释过的“process”函数中。
作业可以无限长时间处于活动状态，直到流程完成，或者抛出异常，以便作业以“完成”或“失败”状态结束。</p>
<h3 id="停滞不前的工作">停滞不前的工作</h3>
<p>在 Bull 中，我们定义了停滞的工作的概念。
停滞的作业是正在处理的作业，但 Bull 怀疑该作业的流程功能已经挂起。
这种情况发生在进程函数正在处理一个任务，并且使 CPU 一直处于繁忙状态，以至于 worker 无法告诉队列它仍然在处理这个任务。</p>
<p>当一个作业停止时，根据作业设置，该作业可以由另一个空闲的作业重试，也可以转移到失败状态。</p>
<p>可以通过确保进程函数不会让 Node 事件循环太长时间处于繁忙状态(Bull 的默认选项是几秒钟)，或者使用单独的[sandbox -processors](#sandbox -processors)来避免陷入停顿的作业。</p>
<h2 id="事件">事件</h2>
<p>Bull 中的队列生成一些事件，这些事件在许多用例中都很有用。
对于给定的队列实例(一个 worker)，事件可以是本地的，例如，如果一个任务在一个给定的 worker 中完成了，则只会针对该实例发出本地事件。
但是，可以通过在本地事件名称前加上&rsquo; global: &lsquo;来侦听所有事件。
然后，我们可以侦听给定队列中所有工人产生的所有事件。</p>
<p>本地完整事件:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000">queue</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">on</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;completed&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">job</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">=&gt;</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">console</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">`Job with id </span><span style="color:#4e9a06">${</span><span style="color:#000">job</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">id</span><span style="color:#4e9a06">}</span><span style="color:#4e9a06"> has been completed`</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">});</span>
</span></span></code></pre></div><p>而事件的全球版本可以通过以下方式来收听:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000">queue</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">on</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;global:completed&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">jobId</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">=&gt;</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">console</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">`Job with id </span><span style="color:#4e9a06">${</span><span style="color:#000">jobId</span><span style="color:#4e9a06">}</span><span style="color:#4e9a06"> has been completed`</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">});</span>
</span></span></code></pre></div><p>请注意，全局事件的签名与本地事件的签名略有不同，在上面的示例中，它只发送作业 id，而不是作业本身的完整实例，这样做是出于性能原因。</p>
<p>可用事件的列表可以在<a href="https://github.com/OptimalBits/bull/blob/master/REFERENCE.md#eventsk">reference</a>中找到。</p>
<h2 id="队列的选项">队列的选项</h2>
<p>一个队列可以实例化一些有用的选项，例如，你可以指定你的 Redis 服务器的位置和密码，以及其他一些有用的设置。
所有这些设置在 Bull 的<a href="https://github.com/OptimalBits/bull/blob/master/REFERENCE.md#queue">参考文献</a>中都有描述，我们在这里不重复它们，但是，我们将讨论一些用例。</p>
<h3 id="速度限制器">速度限制器</h3>
<p>可以创建限制单位时间内处理的作业数量的队列。
限制器是在每个队列中定义的，与 worker 的数量无关，所以你可以水平扩展，并且仍然可以轻松地限制处理速率:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// Limit queue to max 1000 jobs per 5000 milliseconds.
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">myRateLimitedQueue</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Queue</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;rateLimited&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">limiter</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">max</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">1000</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">duration</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">5000</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">});</span>
</span></span></code></pre></div><p>当队列达到速率限制时，请求的作业将加入“延迟”队列。</p>
<h3 id="命名工作">命名工作</h3>
<p>给工作起名字是可能的。
这不会改变队列的任何机制，但可以在 UI 工具中用于更清晰的代码和更好的可视化:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// Jobs producer
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">myJob</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">await</span> <span style="color:#000">transcoderQueue</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">add</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;image&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#000">input</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;myimagefile&#34;</span> <span style="color:#000;font-weight:bold">});</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">myJob</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">await</span> <span style="color:#000">transcoderQueue</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">add</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;audio&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#000">input</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;myaudiofile&#34;</span> <span style="color:#000;font-weight:bold">});</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">myJob</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">await</span> <span style="color:#000">transcoderQueue</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">add</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;video&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#000">input</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;myvideofile&#34;</span> <span style="color:#000;font-weight:bold">});</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// Worker
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">transcoderQueue</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">process</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;image&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">processImage</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">transcoderQueue</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">process</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;audio&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">processAudio</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">transcoderQueue</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">process</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;video&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">processVideo</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></div><p>请记住，每个队列实例都需要为每个<em>指定</em>作业提供一个处理器，否则将会出现异常。</p>
<h3 id="沙箱处理器">沙箱处理器</h3>
<p>如上所述，在定义流程功能时，还可以提供并发设置。
此设置允许工作者并行处理多个作业。
这些作业仍然在同一个 Node 进程中处理，如果作业的 IO 密集，它们将得到很好的处理。</p>
<p>有时，作业的 CPU 占用更大，这可能会锁定 Node 事件循环太长时间，Bull 可能会认为作业已经暂停。
为了避免这种情况，可以在单独的 Node 进程中运行进程函数。
在这种情况下，并发性参数将决定允许运行的最大并发进程数。</p>
<p>我们称这种进程为“沙箱”进程，它们也有这样的属性:如果崩溃，它们不会影响任何其他进程，并且会自动生成一个新进程来替换它。</p>
<h2 id="作业类型">作业类型</h2>
<p>Bull 中的默认作业类型是“FIFO”(先进先出)，这意味着作业的处理顺序与进入队列的顺序相同。
有时，以不同的顺序处理作业是有用的。</p>
<h3 id="lifo">LIFO</h3>
<p>后进先出(LIFO)意味着作业被添加到队列的开头，因此当 worker 空闲时就会被处理。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">myJob</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">await</span> <span style="color:#000">myqueue</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">add</span><span style="color:#000;font-weight:bold">({</span> <span style="color:#000">foo</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;bar&#34;</span> <span style="color:#000;font-weight:bold">},</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#000">lifo</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">true</span> <span style="color:#000;font-weight:bold">});</span>
</span></span></code></pre></div><h3 id="延迟">延迟</h3>
<p>还可以将作业添加到队列中，这些作业在被处理之前会延迟一定的时间。
注意，delay 参数表示作业在被处理之前等待的最小时间。
当延迟时间过去后，作业将被移动到队列的开头，并在一个 worker 空闲时立即处理。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// Delayed 5 seconds
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">myJob</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">await</span> <span style="color:#000">myqueue</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">add</span><span style="color:#000;font-weight:bold">({</span> <span style="color:#000">foo</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;bar&#34;</span> <span style="color:#000;font-weight:bold">},</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#000">delay</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">5000</span> <span style="color:#000;font-weight:bold">});</span>
</span></span></code></pre></div><h3 id="优先">优先</h3>
<p>可以将作业添加到具有优先级值的队列中。
优先级高的作业将比优先级低的作业优先处理。
最高优先级为 1，并降低所使用的较大整数。
请记住，优先级队列比标准队列稍慢(当前插入时间为 O(n)， n 是当前在队列中等待的作业数量，而标准队列为 O(1))。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">myJob</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">await</span> <span style="color:#000">myqueue</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">add</span><span style="color:#000;font-weight:bold">({</span> <span style="color:#000">foo</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;bar&#34;</span> <span style="color:#000;font-weight:bold">},</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#000">priority</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">3</span> <span style="color:#000;font-weight:bold">});</span>
</span></span></code></pre></div><h3 id="可重复的">可重复的</h3>
<p>可重复作业是一种特殊作业，可以根据 cron 规范或时间间隔无限期地重复自己，或者直到达到一个给定的最大日期或重复次数为止。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// Repeat every 10 seconds for 100 times.
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">myJob</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">await</span> <span style="color:#000">myqueue</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">add</span><span style="color:#000;font-weight:bold">(</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">{</span> <span style="color:#000">foo</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;bar&#34;</span> <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">repeat</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000">every</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">10000</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000">limit</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">100</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// Repeat payment job once every day at 3:15 (am)
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">paymentsQueue</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">add</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">paymentsData</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#000">repeat</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#000">cron</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;15 3 * * *&#34;</span> <span style="color:#000;font-weight:bold">}</span> <span style="color:#000;font-weight:bold">});</span>
</span></span></code></pre></div><p>关于可重复工作有一些重要的考虑:</p>
<ul>
<li>如果重复选项相同，Bull 足够聪明，不会添加相同的可重复作业。
(注意:作业 id 是重复选项的一部分，因为:https://github.com/OptimalBits/bull/pull/603，因此传递作业id将允许在队列中插入具有相同cron的作业)</li>
<li>如果没有工人在运行，那么下一次工人在线时，可重复的工作将不会累积。</li>
<li>可以使用<a href="https://github.com/OptimalBits/bull/blob/master/REFERENCE.md#queueremoverepeatable">removeRepeatable</a>方法删除可重复的作业。</li>
</ul>

	
		<style>
  .feedback--answer {
    display: inline-block;
  }
  .feedback--answer-no {
    margin-left: 1em;
  }
  .feedback--response {
    display: none;
    margin-top: 1em;
  }
  .feedback--response__visible {
    display: block;
  }
</style>
<div class="d-print-none">
<h2 class="feedback--title">Feedback</h2>
<p class="feedback--question">Was this page helpful?</p>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-yes">Yes</button>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-no">No</button>
<p class="feedback--response feedback--response-yes">
  Glad to hear it! Please <a href="https://github.com/USERNAME/REPOSITORY/issues/new">tell us how we can improve</a>.
</p>
<p class="feedback--response feedback--response-no">
  Sorry to hear that. Please <a href="https://github.com/USERNAME/REPOSITORY/issues/new">tell us how we can improve</a>.
</p>
</div>
<script>
  const yesButton = document.querySelector('.feedback--answer-yes');
  const noButton = document.querySelector('.feedback--answer-no');
  const yesResponse = document.querySelector('.feedback--response-yes');
  const noResponse = document.querySelector('.feedback--response-no');
  const disableButtons = () => {
    yesButton.disabled = true;
    noButton.disabled = true;
  };
  const sendFeedback = (value) => {
    if (typeof ga !== 'function') return;
    const args = {
      command: 'send',
      hitType: 'event',
      category: 'Helpful',
      action: 'click',
      label: window.location.pathname,
      value: value
    };
    ga(args.command, args.hitType, args.category, args.action, args.label, args.value);
  };
  yesButton.addEventListener('click', () => {
    yesResponse.classList.add('feedback--response__visible');
    disableButtons();
    sendFeedback(1);
  });
  noButton.addEventListener('click', () => {
    noResponse.classList.add('feedback--response__visible');
    disableButtons();
    sendFeedback(0);
  });
</script>

		<br />
	
	
	<div class="text-muted mt-5 pt-3 border-top">
  最后修改 May 10, 2022: <a href="https://github.com/wdk-docs/nestjs-docs/commit/d78c6a02a393b7b85223950953b6157d4393bc85">bull 文档 (d78c6a0)</a>
</div>

</div>


          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="User mailing list" aria-label="User mailing list">
    <a class="text-white" target="_blank" rel="noopener" href="https://example.org/mail" aria-label="User mailing list">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-white" target="_blank" rel="noopener" href="https://example.org/twitter" aria-label="Twitter">
      <i class="fab fa-twitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Stack Overflow" aria-label="Stack Overflow">
    <a class="text-white" target="_blank" rel="noopener" href="https://example.org/stack" aria-label="Stack Overflow">
      <i class="fab fa-stack-overflow"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" rel="noopener" href="https://github.com/google/docsy" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack" aria-label="Slack">
    <a class="text-white" target="_blank" rel="noopener" href="https://example.org/slack" aria-label="Slack">
      <i class="fab fa-slack"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Developer mailing list" aria-label="Developer mailing list">
    <a class="text-white" target="_blank" rel="noopener" href="https://example.org/mail" aria-label="Developer mailing list">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2022 kamilmysliwiec 保留所有权利</small>
        <small class="ml-1"><a href="https://kamilmysliwiec.com/" target="_blank" rel="noopener">隐私政策</a></small>
	
		
	
      </div>
    </div>
  </div>
</footer>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js"
    integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA=="
    crossorigin="anonymous"></script>





<script src='/nestjs-docs/js/tabpane-persist.js'></script>


















<script src="/nestjs-docs/js/main.min.82227759f8f2ead5d4ac2028ff961235745a57120ee2f90ce8f820d05976f9bb.js" integrity="sha256-giJ3Wfjy6tXUrCAo/5YSNXRaVxIO4vkM6Pgg0Fl2&#43;bs=" crossorigin="anonymous"></script>




  </body>
</html>